(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{371:function(e){e.exports={close:["Close","Schlie\xdfen"],menu:{play:["Play","Spielen"],sources:["Cards","Karten"],configuration:["Configuration","Konfiguration"],drinkingGames:["Drinking Games","Trinkspiele"],about:["About","\xdcber"]},play:{start:["Start","Starten"],playerArrangements:["Player Arrangements","Verkuppeln"]},settings:{players:["Players","Spieler"],"players.playerName":["Player name","Spielername"],sources:["Cards","Karten"],"sources.sourceUrl":["Source url","Quellen Url"],configuration:["Configuration","Konfiguration"],willBeRemoved:["Will be removed!","Wird entfernt!"]},"settings.configuration":{language:["Language","Sprache"],playerSettings:["Players","Spieler"],"playerSettings.pairOppositeGenders":["Pair opposite genders more likely","Spieler mit unterschiedlichen Geschlechtern h\xe4ufiger paaren."],arrangements:["Set ups","Verkuppeln"],"arrangements.description":["Set up players are selected together with a higher probability.","Verkuppelte Spieler werden mit einer h\xf6heren Wahrscheinlichkeit zusammen ausgew\xe4hlt."],"arrangements.pairWith":["Set up with","Verkuppeln mit"],"arrangements.none":["None","Keine"],socialMediaPlatform:["Social Media Platform","Soziales Netzwerk"],"socialMediaPlatform.description":["The social media platform your group mainly uses.","Das soziale Netzwerk, welches deine Gruppe haupts\xe4chlich nutzt."],slides:["Slides","Slides"],slidesProjection:["When you take ${count} slides, you get ","Bei ${count} Slides hat man von "],tags:["Tags","Tags"],"tags.none":["None of your cards have tags.","Keine deiner Karten hat Tags."],resetWeights:["Reset Weights","Gewichtungen zur\xfccksetzen"],reset:["Reset all","Alles zur\xfccksetzen"]},add:["Add","Hinzuf\xfcgen"],welcome:{startGame:["Start Game","Spiel starten"]},about:{title:["About","\xdcber"],version:["Version","Version"],aboutText:["Drinctet is a free web application that makes a great start in a good party night. This is a free time project, there will never be advertisments or a fee. The project was primarily created to prepare myself for React, Flux/Redux and Material UI for my workplace.","Drinctet ist eine kostenlose Webanwendung, die euch den Start in den Abend deutlich erleichtert. Ich verfolge keinerlei kommerzielle Interessen, es wird niemals Werbung noch eine Geb\xfchr geben. Das Projekt ist prim\xe4r entstanden, damit ich mich auf React, Flux/Redux und Material UI f\xfcr meine Arbeit vorbereiten kann."],installation:["Installation","Installation"],installationText:['To use Drinctet as comfortable as possible, the app can be downloaded as a PWA (Progressive Web App) to your Android smartphone. The app is then almost indistinguishable from a website. Just tap on the context menu in the top right corner of the Google Chrome browser (the three dots vertically below each other) and then on "Add to Home Screen".','Um die Nutzung von Drinctet so komfortabel wie m\xf6glich zu gestalten, kann die App als PWA (Progressive Web App) auf dein Android Smartphone heruntergeladen werden. Die App ist dann kaum noch von einer Website zu unterscheiden. Dazu tipp einfach in dem Google Chrome Browser oben rechts auf das Kontextmen\xfc (die drei Punkte vertikal untereinander) und dann auf "Zum Startbildschirm hinzuf\xfcgen".']},game:{textFormatter:{sips:["sips","Schlucke"],oneSip:["one sip","einen Schluck"]},options:{settings:["Settings","Einstellungen"],insights:["Insights","Insights"],reportCard:["Report card","Karte melden"],fullscreen:["Fullscreen","Vollbild"],exitFullscreen:["Exit fullscreen","Vollbild verlassen"],exit:["Exit","Beenden"]},welcome:["Welcome to Drinctet (Drink That!)","Willkommen zu Drinctet (Drink That!)"],openingInfo:["Instructions: If you drink, you don't drive and if you drive, you don't drink (we don't mean water!). That's the only rule.\n\nDrinctet can be installed as an app (it's more convenient), simply press in Android Chrome at the top right on \"Add to Home Screen\"\n\n#### Drink responsibly and much! Happy drinking!",'Belehrung: **Wer trinkt f\xe4hrt nicht und wer f\xe4hrt trinkt nicht (und damit ist nicht Wasser gemeint!).** Das ist die einzige Spielregel.\n\nDrinctet kann als App installiert werden (ist komfortabler), daf\xfcr einfach in Android Chrome oben rechts auf "Zum Startbildschirm hinzuf\xfcgen" tippen\n\n####Trinkt verantwortungsvoll und viel! Frohes Saufen!'],tapToContinue:["Tap to continue","Tippe zum Fortsetzen"]},insights:{willPower:["WillPower","\xdcberzeugungskraft"],lockWillPower:["Lock value","Wert sperren"],slide:["Slide","Slide"],currentSlide:["Current Slide","Aktuelle Slide"],name:["Name","Name"],playerSelection:["Player Selection","Spielerauswahl"],predefinedPlayers:["Predefined players","Vordefinierte Spieler"],player:["Player ${number}","Spieler ${number}"],noPlayers:["No players selected","Keine Spieler ausgew\xe4hlt"],playerRemoved:["Removed","Gel\xf6scht"],cardsDist:["Cards Distribution","Kartenverteilung"],willPowerDist:["WillPower Distribution","\xdcberzeugungskraft Verteilung"],cardDeckName:["${url} (cards: ${cards})","${url} (Karten: ${cards})"],part:["Part","Anteil"],universal:["Universal","Universell"],currentCard:["Current card","Aktuelle Karte"],noCard:["No card chosen","Keine Karte ausgew\xe4hlt"],cardInfo:["${name} (ID: ${id}, WillPower: ${wp}, Url: ${url})","${name} (ID: ${id}, \xdcberzeugungskraft: ${wp}, Url: ${url})"],allCards:["All cards","Alle Karten"],cards:["cards","Karten"]},slides:{fact:{title:["Fact?","Fakt?"],"title.true":["True!","Wahr!"],"title.false":["False!","Falsch!"],singleplayer:["[Player], decide if the following statement is true or false:","[Player], entscheide, ob folgende Aussage wahr oder falsch ist:"],multiplayer:["[Player1] and [Player2], decide together the correctness of the following statement:","[Player1], entscheide mit [Player2] zusammen, ob folgende Aussage wahr ist:"],"singleplayer.true":["[Player], drink [sips] if you thought the fact was wrong.","[Player], trinke [sips], wenn du dachtest, dass der Fakt falsch sei. Ansonsten verteil sie."],"singleplayer.false":["[Player], drink [sips] if you thought the fact was right.","[Player], trinke [sips], wenn du dachtest, dass der Fakt richtig sei. Ansonsten verteil sie."],"multiplayer.true":["[Player1] and [Player2], drink both [sips] if your thought the fact was wrong.","[Player1] und [Player2], trinkt jeweils [sips], wenn ihr dachtet, der Fakt sei falsch. Ansonsten verteilt sie."],"multiplayer.false":["[Player1] and [Player2], drink both [sips] if your thought the fact was right.","[Player1] und [Player2], trinkt jeweils [sips], wenn ihr dachtet, der Fakt sei richtig. Ansonsten verteilt sie."]},down:{title:["Down it!","Auf Ex'"]},neverever:{title:["Never have I ever...","Ich habe noch nie..."],instruction:["Everybody who's already done that drinks ${sips} sips.","Jeder, der es schonmal gemacht hat, trinkt ${sips} Schlucke."]},truthordare:{playerTruthordare:["${name}, truth or dare?","${name}, Wahrheit oder Pflicht?"],truth:["Truth","Wahrheit"],dare:["Dare","Pflicht"],instruction:["Alright [Player99]:","Okay [Player99]:"],or:["or","oder"],refuseTruth:["If you refuse to tell the truth, down your drink.","Wenn du dich weigerst, die Wahrheit zusagen, ex dein Getr\xe4nk."],refuseDare:["If you don't want to do it, down your drink.","Wenn du dich weigerst, ex dein Getr\xe4nk."]},wouldyourather:{title:["Would you rather...","W\xfcrdest du lieber..."],instruction:["Vote all at once, the minority drinks ${sips} sips","Stimmt alle Gleichzeitig ab, die Verlierer trinken ${sips} Schlucke."]},groupgame:{title:["Game","Spiel"]},virus:{title:["Virus","Virus"]},task:{title:["Task","Aufgabe"],instruction:["If you don't do it, down your drink (if the other person doesn't want it, he/she must down it).","Wenn du dich weigerst, ex dein Getr\xe4nk (sollte sich die andere Person weigern, muss sie exxen)."]},gamefinished:{title:["Game over","Spiel vorbei"],goBack:["Go back","Zur\xfcck"]}}}},455:function(e,t,n){e.exports=n(838)},816:function(e,t){},835:function(e,t){Object({NODE_ENV:"production",PUBLIC_URL:"/Drinctet",REACT_APP_GIT_COMMIT:"8cec35c",REACT_APP_GIT_INFO:"(HEAD -> master, origin/master, origin/HEAD) at 2019-04-06 13:20:42 +0200"}).LOCAL_STORAGE_VERSION=1},836:function(e,t,n){},838:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loadCards",function(){return Cr});var a={};n.r(a),n.d(a,"loadSourceEpic",function(){return zr}),n.d(a,"resetAllEpic",function(){return Mr});var i={};n.r(i),n.d(i,"nextSlideEpic",function(){return La}),n.d(i,"redirectOnGameStartedEpic",function(){return Ra});var l={};n.r(l),n.d(l,"nextSlideEpic",function(){return Ma});var o=n(0),c=n.n(o),s=n(43),u=n(17),d=(n(22),n(464),n(26)),h=n(54),m=n(2),f=n(848),p=n(850),g=n(840),v=n(849),b=n(15),y=n(5),w=n(12),E=n(9),O=n(7),j=n(8),k=n(35),S=n(347),C=n.n(S),x=n(348),N=n.n(x),T=n(343),P=n.n(T),A=n(344),F=n.n(A),D=n(345),W=n.n(D),I=n(346),L=n.n(I),R=n(157),z=n.n(R),M=n(6),U=n(341),G=[{name:"drinking-driving",translations:[{lang:"de",name:"Drink & Drive"},{lang:"en",name:"Drink & Drive"}]},{name:"horse-racing",translations:[{lang:"de",name:"Pferderennen"},{lang:"en",name:"Horse Racing"}]},{name:"image-game",translations:[{lang:"de",name:"Image Game"},{lang:"en",name:"Image Game"}]},{name:"pizza-box",translations:[{lang:"de",name:"Pizza Karton"},{lang:"en",name:"Pizza Box"}]},{name:"weird-talk",translations:[{lang:"de",name:"Weird Talk"},{lang:"en",name:"Weird Talk"}]},{name:"whisper-game",translations:[{lang:"de",name:"Fl\xfcsterspiel"},{lang:"en",name:"Whisper Game"}]},{name:"bus-driver",translations:[{lang:"de",name:"Busfahrer"}]},{name:"submarine",translations:[{lang:"de",name:"U-Boot"}]},{name:"beer-bowling",translations:[{lang:"en",name:"Beer Bowling"},{lang:"de",name:"Beer Bowling"}]}],B=n(37),_=n.n(B);var q=Object(b.d)(M.e,U.a)(function(e){var t=e.activeLanguage,n=e.history,r=void 0===t?null:t.code,a=G.map(function(e){var t=e.translations.find(function(e){return e.lang===r})||e.translations.find(function(e){return"en"===e.lang})||e.translations[0];return{game:e,translation:t}});return(a=_.a.sortBy(a,function(e){return e.translation.name})).map(function(e){var t=e.game,r=e.translation,a="/drinkingGames/".concat(t.name);return c.a.createElement(m.A,{key:t.name,button:!0,onClick:function(){return n.push(a)},selected:n.location.pathname===a},c.a.createElement(m.C,{primary:r.name}))})}),H=[{path:"/play",icon:c.a.createElement(P.a,null)},{path:"/sources",icon:c.a.createElement(F.a,null)},{path:"/configuration",icon:c.a.createElement(z.a,null)}],K=[{path:"/about",icon:c.a.createElement(W.a,null)}];function V(e,t){var n=e.translate,r=e.history;return t.map(function(e){return c.a.createElement(m.A,{key:e.path,button:!0,selected:r.location.pathname.startsWith(e.path),onClick:function(){return r.push(e.path)}},c.a.createElement(m.B,null,e.icon),c.a.createElement(m.C,{primary:n("menu.".concat(e.path.substring(1)))}))})}var $=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={isOpen:!1},n.handleClick=function(e){n.setState(function(e){return{isOpen:!e.isOpen}}),e.stopPropagation()},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.location.pathname.startsWith("/drinkingGames")&&this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.translate,n=e.classes,r=this.state.isOpen;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.A,{button:!0,onClick:this.handleClick,selected:!1},c.a.createElement(m.B,null,c.a.createElement(L.a,null)),c.a.createElement(m.C,{primary:t("menu.".concat("drinkingGames"))}),r?c.a.createElement(C.a,null):c.a.createElement(N.a,null)),c.a.createElement(m.i,{in:r,timeout:"auto",unmountOnExit:!0},c.a.createElement(m.z,{disablePadding:!0},c.a.createElement("div",{className:n.nested},c.a.createElement(q,null)))))}}]),t}(c.a.Component);var Y=Object(b.d)(Object(h.withStyles)(function(e){return Object(h.createStyles)({toolbar:Object(d.a)({},e.mixins.toolbar,{paddingLeft:20,display:"flex",alignItems:"center"}),nested:{paddingLeft:4*e.spacing.unit}})}),U.a,M.e)(function(e){var t=e.classes;return c.a.createElement("div",null,c.a.createElement("div",{className:t.toolbar},c.a.createElement("div",null,c.a.createElement(m.N,{variant:"h6"},"Drinctet"),c.a.createElement(m.N,null,"The goal is to drink that!"))),c.a.createElement(m.k,null),c.a.createElement(m.z,null,V(e,H)),c.a.createElement(m.k,null),c.a.createElement(m.z,null,c.a.createElement($,e),c.a.createElement(m.z,null,V(e,K))))}),J=n(349),Q=n.n(J),X=n(154),Z=n(158),ee=n.n(Z);function te(e){var t=/[a-zA-Z]+/g.exec(e);return null!==t&&t.length>0?t[0]:null}var ne=n(11),re=Object(ne.createStandardAction)("START_GAME")(),ae=Object(ne.createStandardAction)("CANCEL_GAME")(),ie=Object(ne.createAsyncAction)("NEXT_SLIDE_REQUEST","NEXT_SLIDE_SUCCESS","NEXT_SLIDE_FAILURE")(),le=Object(ne.createStandardAction)("APPLY_CARD")(),oe=Object(ne.createStandardAction)("SET_SLIDE_STATE")(),ce=Object(ne.createStandardAction)("ADD_FOLLOW_UP")(),se=Object(ne.createStandardAction)("ACTIVATE_FOLLOW_UP")(),ue=Object(ne.createStandardAction)("SET_WILL_POWER_LOCKED")(),de=Object(ne.createStandardAction)("SET_WILL_POWER")(),he=Object(ne.createStandardAction)("ADD_WILL_POWER_MEMORY")(),me={startGame:re};var fe=Object(h.withStyles)(function(e){return Object(h.createStyles)({menuButton:Object(k.a)({marginLeft:-12,marginRight:20},e.breakpoints.up("md"),{display:"none"}),grow:{flexGrow:1},appbar:{}})})(Object(M.e)(Object(U.a)(Object(u.b)(function(e){return{sources:e.settings.sources,players:e.play.players}},me)(function(e){var t=e.classes,n=e.handleToggleDrawer,r=e.history,a=e.sources,i=e.players,l=e.startGame,o=i.length>1,s=a.filter(function(e){return void 0!==e.cards}).length>0,u=a.filter(function(e){return e.isLoading}).length>0,d=o&&s&&!u;return c.a.createElement(m.a,{position:"fixed",className:t.appbar},c.a.createElement(m.M,null,c.a.createElement(m.u,{className:t.menuButton,color:"inherit","aria-label":"Menu",onClick:n},c.a.createElement(Q.a,null)),c.a.createElement(m.N,{variant:"h6",color:"inherit",className:t.grow,noWrap:!0},c.a.createElement(M.b,{id:"menu.".concat(te(r.location.pathname))})),c.a.createElement(X.a,{path:"/play",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.u,{color:"inherit",disabled:i.length<3,onClick:function(){return r.push("/play/arrangements")}},c.a.createElement(ee.a,null)),c.a.createElement(m.c,{color:"inherit",disabled:!d,onClick:function(){return l(r)}},c.a.createElement(M.b,{id:"play.start"})))}})))})))),pe=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={mobileOpen:!1},n.handleDrawerToggle=function(){n.setState(function(e){return{mobileOpen:!e.mobileOpen}})},n.setDrawerOpen=function(e){n.setState({mobileOpen:e})},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.theme,a=this.state.mobileOpen;return c.a.createElement("div",null,c.a.createElement(fe,{classes:{appbar:n.appBar},handleToggleDrawer:this.handleDrawerToggle}),c.a.createElement("nav",{className:n.drawer},c.a.createElement(m.s,{mdUp:!0,implementation:"css"},c.a.createElement(m.I,{variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:a,onClose:function(){return e.setDrawerOpen(!1)},onOpen:function(){return e.setDrawerOpen(!0)},classes:{paper:n.drawerPaper}},c.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){return e.setDrawerOpen(!1)},onKeyDown:function(){return e.setDrawerOpen(!1)}},c.a.createElement(Y,null)))),c.a.createElement(m.s,{smDown:!0,implementation:"css"},c.a.createElement(m.l,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0},c.a.createElement(Y,null)))))}}]),t}(c.a.Component),ge=Object(h.withStyles)(function(e){return Object(h.createStyles)({drawer:Object(k.a)({},e.breakpoints.up("md"),{width:240,flexShrink:0}),drawerPaper:{width:240},appBar:Object(k.a)({marginLeft:240},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")})})},{withTheme:!0})(pe),ve=n(159),be=n.n(ve),ye=Object(ne.createStandardAction)("ADD_PLAYER").map(function(e){return{payload:{name:e.name,gender:e.gender,id:be()()}}}),we=Object(ne.createStandardAction)("UPDATE_PLAYER")(),Ee=Object(ne.createStandardAction)("REMOVE_PLAYER")(),Oe=Object(ne.createStandardAction)("ADD_PLAYER_ARRANGEMENT")(),je=Object(ne.createStandardAction)("REMOVE_PLAYER_ARRANGEMENT")(),ke=n(113),Se=n.n(ke),Ce=n(59),xe=n.n(Ce),Ne={addPlayer:ye},Te=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={name:""},n.handlePlayerNameChange=function(e){n.setState({name:e.currentTarget.value})},n.handleAddClick=function(){var e="Male";n.state.name.endsWith("a")&&(e="Female"),n.props.addPlayer({name:n.state.name,gender:e}),n.setState({name:""})},n.handleFormKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),n.state.name&&n.handleAddClick())},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.state.name,t=this.props.translate;return o.createElement("form",{onKeyDown:this.handleFormKeyDown},o.createElement("div",{style:{display:"flex"}},o.createElement(xe.a,{style:{flexGrow:1},type:"text",value:e,placeholder:t("settings.players.playerName"),onChange:this.handlePlayerNameChange}),o.createElement(Se.a,{style:{marginLeft:5},disabled:!e,onClick:this.handleAddClick},o.createElement(M.b,{id:"add"}))))}}]),t}(o.Component),Pe=Object(u.b)(null,Ne)(Object(M.e)(Te)),Ae=n(88),Fe=n.n(Ae),De=n(89),We=n.n(De),Ie=function e(t,n,r){Object(y.a)(this,e),this.id=t,this.name=n,this.gender=r},Le=function(e){return e.players},Re=n(74),ze=n.n(Re),Me=n(160),Ue=n.n(Me),Ge=n(350),Be=n(226),_e=function(){return{margin:-10,width:48,height:48}};var qe=Object(M.e)(function(e){var t=e.name,n=e.gender,r=e.onRemoveClick,a=e.onSwapGenderClick,i=e.onNameChanged,l=e.translate;return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(ze.a,{"aria-label":"Swap Gender",onClick:a,style:Object(d.a)({},_e(),{marginRight:0})},c.a.createElement(m.t,null,c.a.createElement(Ge.a,{icon:"Male"===n?Be.a:Be.b}))),c.a.createElement(xe.a,{error:!t,onBlur:function(){t||r()},style:{flexGrow:1,marginLeft:5,marginRight:5},placeholder:l("settings.willBeRemoved"),value:t,onChange:function(e){return i(e.currentTarget.value)}}),c.a.createElement(ze.a,{"aria-label":"Delete",onClick:r,style:Object(d.a)({},_e(),{marginLeft:0}),tabIndex:-1},c.a.createElement(Ue.a,{fontSize:"default"})))}),He={removePlayer:Ee,updatePlayer:we};var Ke=Object(u.b)(function(e){return{players:Le(e.play)}},He)(function(e){var t=e.players,n=e.removePlayer,r=e.updatePlayer;return o.createElement(Fe.a,null,t.map(function(e){return o.createElement(We.a,{key:e.id},o.createElement(m.C,null,o.createElement(qe,{name:e.name,gender:e.gender,onRemoveClick:function(){return n(e.id)},onNameChanged:function(t){return r(new Ie(e.id,t,e.gender))},onSwapGenderClick:function(){return r(new Ie(e.id,e.name,"Female"===e.gender?"Male":"Female"))}})))}))}),Ve=n(841),$e=n(75),Ye=n.n($e),Je=n(76),Qe=n.n(Je),Xe={addPlayerArrangment:Oe,removePlayerArrangment:je};var Ze=Object(b.d)(Object(u.b)(function(e){return{players:e.play.players,arrangements:e.play.arrangements}},Xe),Object(h.withStyles)(function(e){return Object(h.createStyles)({arrangmentItem:{borderBottom:"1px solid #d8d8d8",paddingBottom:5},arrangementSelect:Object(k.a)({width:200},e.breakpoints.down("xs"),{width:"100%"})})}),M.e)(function(e){var t=e.classes,n=e.players,r=e.arrangements,a=e.addPlayerArrangment,i=e.removePlayerArrangment;return c.a.createElement("div",null,c.a.createElement(m.N,{variant:"subtitle2"},c.a.createElement(M.b,{id:"settings.configuration.arrangements"})),c.a.createElement(m.N,null,c.a.createElement(M.b,{id:"settings.configuration.arrangements.description"})),c.a.createElement(m.r,{container:!0},n.filter(function(e){return-1===r.findIndex(function(t){return t.p2===e.id})}).map(function(e){var l=r.find(function(t){return t.p1===e.id}),o=void 0===l?"":l.p2;return c.a.createElement(m.r,{item:!0,container:!0,alignItems:"flex-end",className:t.arrangmentItem,key:e.id},c.a.createElement(m.r,{item:!0,xs:6,lg:4},c.a.createElement(m.N,{variant:"subtitle1"},e.name)),c.a.createElement(m.r,{item:!0,xs:6,lg:4},c.a.createElement(m.o,{className:t.arrangementSelect},c.a.createElement(m.w,{htmlFor:"player-selection"},c.a.createElement(M.b,{id:"settings.configuration.arrangements.pairWith"})),c.a.createElement(m.G,{value:o,onChange:function(t){var n=t.target.value;""===n?i(e.id):a({p1:e.id,p2:n})},input:c.a.createElement(m.v,{id:"player-selection"})},c.a.createElement(m.E,{value:""},c.a.createElement("em",null,c.a.createElement(M.b,{id:"settings.configuration.arrangements.none"}))),n.filter(function(t){return t.id!==e.id&&-1===r.findIndex(function(n){return(n.p1===t.id||n.p2===t.id)&&n.p1!==e.id})}).map(function(e){return c.a.createElement(m.E,{key:e.id,value:e.id},e.name)})))))})))});function et(e){return c.a.createElement(m.H,Object.assign({direction:"up"},e))}var tt=Object(b.d)(Qe()({breakpoint:"sm"}),Object(h.withStyles)(function(e){return Object(h.createStyles)({appBar:{position:"relative"},flex:{flex:1},content:{flexGrow:1,padding:2*e.spacing.unit,overflowX:"auto"},dialogPaper:{height:"80vh"},fullscreenPaper:{height:"100vh"}})}),M.e,U.a)(function(e){var t=e.fullScreen,n=e.classes,r=e.history;return c.a.createElement(Ye.a,{fullScreen:t,open:!0,onClose:function(){return r.goBack()},TransitionComponent:et,fullWidth:!0,maxWidth:"md",classes:{paperScrollPaper:n.dialogPaper,paperFullScreen:n.fullscreenPaper}},c.a.createElement(m.a,{className:n.appBar},c.a.createElement(m.M,null,c.a.createElement(m.N,{variant:"h6",color:"inherit",className:n.flex},c.a.createElement(M.b,{id:"play.playerArrangements"})),c.a.createElement(m.c,{color:"inherit",onClick:function(){return r.goBack()}},c.a.createElement(M.b,{id:"close"})))),c.a.createElement("div",{className:n.content},c.a.createElement(Ze,null)))});var nt=Object(b.d)(Object(h.withStyles)(function(e){return Object(h.createStyles)({tabContainer:{display:"flex",flexDirection:"column",height:"100%",maxWidth:800},headerMargin:{paddingTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit},fillRemaining:{flexGrow:1,height:0,overflowY:"auto"}})}),Ve.a)(function(e){var t=e.classes;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.r,{className:t.tabContainer},c.a.createElement("div",{className:t.headerMargin},c.a.createElement(Pe,null)),c.a.createElement("div",{className:t.fillRemaining},c.a.createElement(Ke,null))),c.a.createElement(g.a,{path:"/play/arrangements",component:tt}))}),rt=Object(ne.createStandardAction)("ADD_SOURCE").map(function(e){return{payload:{url:e,isLoading:!1,errorMessage:null,cards:null,weight:.5,tags:[]}}}),at=Object(ne.createStandardAction)("REMOVE_SOURCE")(),it=Object(ne.createAsyncAction)("LOAD_SOURCE_REQUEST","LOAD_SOURCE_SUCCESS","LOAD_SOURCE_FAILURE")(),lt=Object(ne.createStandardAction)("SET_SOURCE_WEIGHT")(),ot=Object(ne.createStandardAction)("SET_PREFER_OPPOSITE_GENDERS")(),ct=Object(ne.createStandardAction)("SET_SOCIAL_MEDIA_PLATFORM")(),st=Object(ne.createStandardAction)("SET_SLIDE_WEIGHT")(),ut=Object(ne.createStandardAction)("SET_TAG_WEIGHT")(),dt=Object(ne.createStandardAction)("RESET_WEIGHTS")(),ht=Object(ne.createStandardAction)("RESET_ALL")(),mt=function(e){return e.sources},ft={addSource:rt,loadSource:it.request},pt=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={url:""},n.handleUrlChange=function(e){n.setState({url:e.currentTarget.value})},n.handleAddClick=function(){!n.state.url||n.props.sources.findIndex(function(e){return e.url===n.state.url})>-1||(n.props.addSource(n.state.url),n.props.loadSource(n.state.url),n.setState({url:""}))},n.handleFormKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),n.state.url&&n.handleAddClick())},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state.url,n=this.props.translate,r=this.props.sources.findIndex(function(t){return t.url===e.state.url})>-1;return o.createElement("form",{onKeyDown:this.handleFormKeyDown},o.createElement("div",{style:{display:"flex"}},o.createElement(xe.a,{style:{flexGrow:1},type:"text",value:t,placeholder:n("settings.sources.sourceUrl"),error:r,onChange:this.handleUrlChange}),o.createElement(Se.a,{style:{marginLeft:5},disabled:!t||r,onClick:this.handleAddClick},o.createElement(M.b,{id:"add"}))))}}]),t}(o.Component),gt=Object(u.b)(function(e){return{sources:mt(e.settings)}},ft)(Object(M.e)(pt)),vt=n(90);function bt(){return c.a.createElement(m.x,null)}function yt(e){var t=e.errorMessage,n=e.onReloadClick;return c.a.createElement(m.N,{color:"secondary",variant:"body1",component:"small"},"".concat(t),c.a.createElement(m.y,{style:{marginLeft:15},component:"button",variant:"body1",onClick:n},"Reload"))}function wt(e){var t=e.weight,n=e.onChangeWeight;return c.a.createElement(vt.a,{max:1,min:0,step:.05,style:{margin:10,padding:"4px 0px"},value:t,onChange:function(e,t){return n(t)}})}var Et=Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:e.palette.background.paper,height:"100%"},title:{textOverflow:"elipsis",wordBreak:"break-all",overflow:"hidden"},fullWidth:{width:"100%"}})},{withTheme:!0})(function(e){var t=e.url,n=e.classes,r=e.isLoading,a=e.errorMessage,i=e.cardsCount,l=e.weight,o=e.onRemoveClick,s=e.onReloadClick,u=e.onChangeWeight;return c.a.createElement(m.b,{badgeContent:i,color:"primary",max:9999,className:n.fullWidth,showZero:!1},c.a.createElement(m.d,{className:n.fullWidth},c.a.createElement(m.f,{avatar:c.a.createElement(m.g,{checked:0!==l,style:{margin:-10},onChange:function(e,t){return u(t?.5:0)}}),titleTypographyProps:{className:n.title},title:t,action:c.a.createElement(ze.a,{onClick:o},c.a.createElement(Ue.a,null)),subheader:r?c.a.createElement(bt,null):a?c.a.createElement(yt,{errorMessage:a,onReloadClick:s}):c.a.createElement(wt,{weight:l,onChangeWeight:u})})))}),Ot={loadSource:it.request,removeSource:at,setSourceWeight:lt};var jt=Object(u.b)(function(e){return{sources:mt(e.settings)}},Ot)(function(e){var t=e.sources,n=e.removeSource,r=e.loadSource,a=e.setSourceWeight;return o.createElement(Fe.a,null,t.map(function(e){return o.createElement(We.a,{key:e.url},o.createElement(m.C,null,o.createElement(Et,{url:e.url,isLoading:e.isLoading,errorMessage:e.errorMessage,cardsCount:e.cards&&e.cards.length||0,weight:e.weight,onChangeWeight:function(t){return a({value:e.url,weight:t})},onRemoveClick:function(){return n(e.url)},onReloadClick:function(){return r(e.url)}})))}))});var kt=Object(h.withStyles)(function(e){return Object(h.createStyles)({tabContainer:{display:"flex",flexDirection:"column",height:"100%"},fillRemaining:{flexGrow:1,height:0,overflowY:"auto"},headerMargin:{paddingTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit}})})(function(e){var t=e.classes;return c.a.createElement(m.r,{className:t.tabContainer},c.a.createElement("div",{className:t.headerMargin},c.a.createElement(gt,null)),c.a.createElement("div",{className:t.fillRemaining},c.a.createElement(jt,null)))});var St=Object(h.withStyles)(function(){return Object(h.createStyles)({root:{width:"100%"}})})(Object(M.e)(function(e){var t=e.activeLanguage,n=e.languages,r=e.setActiveLanguage,a=e.classes;return o.createElement(m.r,{container:!0},o.createElement(m.r,{item:!0,xs:12,sm:10,md:8,lg:6},o.createElement(m.o,{className:a.root},o.createElement(m.w,{htmlFor:"language-input"},o.createElement(M.b,{id:"settings.configuration.language"})),o.createElement(m.G,{inputProps:{id:"language-input"},style:{width:"100%"},value:void 0===t?"en":t.code,onChange:function(e){return r(e.target.value)}},n.map(function(e){return o.createElement(m.E,{key:e.code,value:e.code},e.name)})))))})),Ct={setPreferOppositeGenders:ot};var xt=Object(b.d)(Object(u.b)(function(e){return{preferOppositeGenders:e.settings.preferOppositeGenders}},Ct),M.e)(function(e){var t=e.preferOppositeGenders,n=e.setPreferOppositeGenders;return o.createElement("div",null,o.createElement(m.N,{variant:"h5"},o.createElement(M.b,{id:"settings.configuration.playerSettings"})),o.createElement(m.p,{control:o.createElement(m.J,{checked:t,onChange:function(e,t){return n(t)}}),label:o.createElement(M.b,{id:"settings.configuration.playerSettings.pairOppositeGenders"})}))}),Nt=["Snapchat","Instagram","Facebook"],Tt={DownSlide:.1,DrinkSlide:.6,FactSlide:.3,GroupGameSlide:.3,NeverEverSlide:.5,NoIdeaLosesSlide:.3,TaskSlide:.2,TruthOrDareSlide:.35,VirusSlide:.2,WouldYouRatherSlide:.5},Pt=["sexual"],At={Vincent:["Melina"]},Ft={setSocialMediaPlatform:ct};var Dt=Object(u.b)(function(e){return{platform:e.settings.socialMediaPlatform}},Ft)(Object(M.e)(function(e){var t=e.platform,n=e.setSocialMediaPlatform;return o.createElement("div",null,o.createElement(m.N,{variant:"h5"},o.createElement(M.b,{id:"settings.configuration.socialMediaPlatform"})),o.createElement(m.N,{gutterBottom:!0},o.createElement(M.b,{id:"settings.configuration.socialMediaPlatform.description"})),o.createElement(m.o,null,o.createElement(m.G,{style:{width:200,marginTop:10},value:t,onChange:function(e){return n(e.target.value)},input:o.createElement(m.v,null)},Nt.map(function(e){return o.createElement(m.E,{key:e,value:e},e)}))))})),Wt=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.onChangeWeight,r=e.getLabel;return o.createElement("table",null,o.createElement("tbody",null,t.map(function(e){return o.createElement("tr",{key:e.value},o.createElement("td",null,o.createElement(m.N,{style:{opacity:0===e.weight?.5:1}},void 0!==r?r(e.value):e.value)),o.createElement("td",{style:{width:"100%"}},o.createElement(vt.a,{max:1,min:0,style:{padding:"20px 0 20px 5px",width:"100%"},step:.05,value:e.weight,onChange:function(t,r){return n({value:e.value,weight:r})}})))})))}}]),t}(o.Component);function It(e,t,n){for(var r=e.map(function(e){return{value:e,percent:t(e)}}),a=r.reduce(function(e,t){return e+t.percent},0),i=new Array,l=0,o=0,c=0;c<r.length;c++){var s=r[c],u=s.value;l+=s.percent/a*n;var d=Math.round(l);i.push({value:u,part:d-o}),o=d}return i}function Lt(e,t){for(;;){var n=e.lastIndexOf(t);if(-1===n||n!==e.length-t.length)break;e=e.substring(0,e.length-t.length)}return e}var Rt={setSlideWeight:st};var zt=Object(u.b)(function(e){return{slides:e.settings.slides}},Rt)(Object(M.e)(function(e){var t=e.slides,n=e.setSlideWeight,r=It(t,function(e){return e.weight},50);return o.createElement("div",null,o.createElement(m.N,{gutterBottom:!0,variant:"h5"},o.createElement(M.b,{id:"settings.configuration.slides"})),o.createElement(Wt,{items:t,onChangeWeight:function(e){return n(e)},getLabel:function(e){return Lt(e,"Slide")}}),o.createElement(m.N,null,o.createElement(M.b,{id:"settings.configuration.slidesProjection",data:{count:50}}),r.map(function(e,t){return o.createElement(o.Fragment,{key:e.value.value},o.createElement("b",{style:{fontWeight:"bolder"}},Lt(e.value.value,"Slide")),": ",e.part,t<r.length-1?", ":null)})))})),Mt={setTagWeight:ut};var Ut=Object(u.b)(function(e){return{tags:e.settings.tags,decks:e.settings.sources}},Mt)(Object(M.e)(function(e){var t=e.tags,n=e.decks,r=e.setTagWeight,a=_.a.uniq(n.flatMap(function(e){return e.tags})).map(function(e){return t.find(function(t){return t.value===e})||{value:e,weight:.5}});return o.createElement("div",null,o.createElement(m.N,{gutterBottom:!0,variant:"h5"},o.createElement(M.b,{id:"settings.configuration.tags"})),o.createElement(Wt,{items:a,onChangeWeight:function(e){return r(e)}}),0===a.length?o.createElement(m.N,{variant:"body1",color:"textSecondary"},o.createElement(M.b,{id:"settings.configuration.tags.none"})):void 0)})),Gt={resetWeights:dt,resetAll:ht};var Bt=Object(u.b)(null,Gt)(function(e){var t=e.resetWeights,n=e.resetAll;return c.a.createElement(m.r,{container:!0,spacing:16},c.a.createElement(m.r,{item:!0},c.a.createElement(m.c,{color:"secondary",variant:"outlined",onClick:t},c.a.createElement(M.b,{id:"settings.configuration.resetWeights"}))),c.a.createElement(m.r,{item:!0},c.a.createElement(m.c,{color:"secondary",variant:"contained",onClick:n},c.a.createElement(M.b,{id:"settings.configuration.reset"}))))}),_t=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(m.r,{style:{maxWidth:800}},o.createElement(m.r,{container:!0,spacing:32,direction:"column"},o.createElement(m.r,{item:!0,style:{marginBottom:20}},o.createElement(St,null)),o.createElement(m.r,{item:!0},o.createElement(xt,null)),o.createElement(m.r,{item:!0},o.createElement(Dt,null)),o.createElement(m.r,{item:!0},o.createElement(zt,null)),o.createElement(m.r,{item:!0},o.createElement(Ut,null)),o.createElement(m.r,{item:!0},o.createElement(Bt,null))))}}]),t}(o.Component);var qt=Object(h.withStyles)(function(e){return Object(h.createStyles)({tabContainer:{display:"flex",flexDirection:"column",height:"100%"},fillRemaining:{flexGrow:1,height:0,overflowY:"auto",overflowX:"hidden",padding:2*e.spacing.unit}})})(function(e){var t=e.classes;return c.a.createElement(m.r,{className:t.tabContainer},c.a.createElement("div",{className:t.fillRemaining,style:{overflowX:"hidden"}},c.a.createElement(_t,null)))}),Ht=n(51),Kt=n.n(Ht),Vt=n(78),$t=n(70),Yt=function(e){return function(t){var n=t.children,r=Object($t.a)(t,["children"]);return o.createElement(m.N,Object.assign({color:"inherit"},r,{variant:e}),n)}},Jt=function(e){return function(t){var n=t.children,r=Object($t.a)(t,["children"]);return o.createElement(m.N,Object.assign({color:"inherit"},r,{variant:"h6",style:{fontSize:e}}),n)}};var Qt,Xt=function(e){return function(t){var n=t.children,r=Object($t.a)(t,["children"]);return o.createElement(m.N,Object.assign({color:"inherit"},r,{variant:"h6",style:{fontSize:e,marginTop:16}}),n)}},Zt={overrides:{p:{component:function(e){var t=e.children,n=Object($t.a)(e,["children"]);return o.createElement(m.N,Object.assign({},n,{color:"inherit",component:"p"}),t)},props:{}},h1:{component:Xt("1.4em"),props:{}},h2:{component:Xt("1.3em"),props:{}},h3:{component:Xt("1.2em"),props:{}},h4:{component:Xt("1.1em"),props:{}},code:{component:function(e){var t=e.children,n=Object($t.a)(e,["children"]);return o.createElement(m.N,Object.assign({},n,{color:"inherit",component:"p",style:{fontSize:"0.8em",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New',monospace"}}),t)},props:{}},li:{component:function(e){var t=e.children,n=Object($t.a)(e,["children"]);return o.createElement("li",n,o.createElement(m.N,null,t))},props:{}}}},en={overrides:{p:{component:(Qt="1em",function(e){var t=e.children,n=Object($t.a)(e,["children"]);return o.createElement(m.N,Object.assign({color:"inherit"},n,{style:{marginBlockStart:5,marginBlockEnd:5,fontSize:Qt}}),t)}),props:{}},h1:{component:Yt("h5"),props:{}},h2:{component:Yt("h6"),props:{}},h3:{component:Jt("1.2em"),props:{}},h4:{component:Jt("1.1em"),props:{}},h5:{component:Jt("1.08em"),props:{}},h6:{component:Jt("1.05em"),props:{}},blockquote:{component:function(e){var t=e.children,n=Object($t.a)(e,["children"]);return o.createElement("div",Object.assign({},n,{style:{borderLeft:"1px solid white",paddingLeft:16}}),t)},props:{}}}},tn=n(36),nn=n(55),rn=n(117);function an(e){return{languageCode:e.activeLanguage.code,translate:function(t){return e.translate(t)}}}function ln(e){var t;return t={textAlign:"center"},Object(k.a)(t,e.breakpoints.down("sm"),{width:"100%",marginLeft:30,marginRight:30,fontSize:18}),Object(k.a)(t,e.breakpoints.up("md"),{width:"80%"}),Object(k.a)(t,e.breakpoints.up("lg"),{width:"60%"}),t}function on(e){return Object(k.a)({},e.breakpoints.down("sm"),{fontSize:"2em"})}function cn(e){return Object(k.a)({color:"white"},e.breakpoints.down("sm"),{fontSize:"1.5em"})}var sn="#2980b9",un="#3498db",dn={nextSlide:ie.request};var hn=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},dn),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:Object(d.a)({},{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},{backgroundColor:sn,position:"relative"}),rootProgress:{height:"100%",backgroundColor:un,position:"absolute",top:0,left:0,bottom:0,zIndex:5},content:Object(d.a)({},ln(e),Object(k.a)({zIndex:10},e.breakpoints.down("sm"),{width:"100%",marginLeft:30,marginRight:30,fontSize:16})),header:{marginBottom:20}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state,a=e.translate;if(null===r)return o.createElement("div",{className:t.root});var i=r.continuationDate,l=Math.abs(+i-Date.now()),c=rn.Keyframes.Spring(function(){var e=Object(Vt.a)(Kt.a.mark(function e(t){return Kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({from:{width:"0%"},width:"100%",config:{duration:l}});case 2:return e.next=4,t({from:{backgroundColor:un},backgroundColor:sn,config:{duration:200}});case 4:return e.next=6,t({from:{backgroundColor:sn},backgroundColor:un,config:{duration:200}});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s=Object(nn.b)({opacity:1,from:{opacity:0},delay:l});return o.createElement("div",{className:t.root,onClick:function(){return new Date>i&&n(an(e))}},o.createElement(c,{native:!0},function(e){return o.createElement(rn.animated.div,{className:t.rootProgress,style:e})}),o.createElement("div",{className:t.content},o.createElement(m.N,{variant:"h5",color:"inherit",className:t.header,gutterBottom:!0},o.createElement(M.b,{id:"game.welcome"})),o.createElement(tn.a,{children:a("game.openingInfo"),options:en}),o.createElement(nn.a.div,{style:s},o.createElement(m.N,{style:{color:"white",marginTop:20},variant:"h6"},o.createElement(M.b,{id:"game.tapToContinue"})))))}),mn=function(){function e(){Object(y.a)(this,e),this.slideType="OpeningSlide",this.requiredCards=[],this.backgroundColor=sn}return Object(w.a)(e,[{key:"initialize",value:function(){var e=new Date;return e.setSeconds(e.getSeconds()+5),[this.setSlideState({continuationDate:e})]}},{key:"initializeFollowUp",value:function(){throw new Error("Method not implemented.")}},{key:"setSlideState",value:function(e){return oe({state:e,insights:null})}},{key:"render",value:function(){return o.createElement(hn,null)}}]),e}(),fn=n(356),pn=n.n(fn),gn=n(353),vn=n.n(gn),bn=n(355),yn=n.n(bn),wn=n(354),En=n.n(wn),On=n(352),jn=n.n(On),kn={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},Sn=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],Cn=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],xn=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],Nn="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},Tn="fullscreenEnabled"in Nn&&Object.keys(kn)||Sn[0]in Nn&&Sn||Cn[0]in Nn&&Cn||xn[0]in Nn&&xn||[],Pn=function(){function e(){Object(y.a)(this,e)}return Object(w.a)(e,null,[{key:"requestFullscreen",value:function(e){return e[Tn[kn.requestFullscreen]]()}},{key:"requestFullscreenFunction",value:function(e){return e[Tn[kn.requestFullscreen]]}},{key:"addEventListener",value:function(e,t,n){return Nn.addEventListener(Tn[kn[e]],t,n)}},{key:"removeEventListener",value:function(e,t,n){return Nn.removeEventListener(Tn[kn[e]],t,n)}},{key:"exitFullscreen",get:function(){return Nn[Tn[kn.exitFullscreen]].bind(Nn)}},{key:"fullscreenEnabled",get:function(){return Boolean(Nn[Tn[kn.fullscreenEnabled]])}},{key:"fullscreenElement",get:function(){return Nn[Tn[kn.fullscreenElement]]}},{key:"onfullscreenchange",get:function(){return Nn["on".concat(Tn[kn.fullscreenchange]).toLowerCase()]},set:function(e){Nn["on".concat(Tn[kn.fullscreenchange]).toLowerCase()]=e}},{key:"onfullscreenerror",get:function(){return Nn["on".concat(Tn[kn.fullscreenerror]).toLowerCase()]},set:function(e){Nn["on".concat(Tn[kn.fullscreenerror]).toLowerCase()]=e}}]),e}(),An=Object(h.createStyles)({button:{color:"white"}}),Fn=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={anchorEl:null,isFullscreen:!1},n.handleMenuOpenClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleNavigate=function(e){n.handleClose(),n.props.history.push("/play/game/".concat(e))},n.toggleFullscreen=function(){n.state.isFullscreen?Pn.exitFullscreen():Pn.requestFullscreen(window.document.documentElement),n.handleClose()},n.handleExit=function(){n.handleClose(),n.props.history.push("/play")},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;Pn.onfullscreenchange=function(){e.setState(function(e){return Object(d.a)({},e,{isFullscreen:Pn.fullscreenElement})})}}},{key:"componentWillUnmount",value:function(){Pn.onfullscreenchange=null}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,r=n.anchorEl,a=n.isFullscreen,i=null!==r;return c.a.createElement("div",null,c.a.createElement(m.u,{color:"secondary",className:t.button,onClick:this.handleMenuOpenClick},c.a.createElement(jn.a,null)),c.a.createElement(m.D,{anchorEl:r,open:i,onClose:this.handleClose,PaperProps:{style:{width:200}}},c.a.createElement(m.E,{onClick:function(){return e.handleNavigate("settings")}},c.a.createElement(m.B,null,c.a.createElement(z.a,null)),c.a.createElement(M.b,{id:"game.options.settings"})),c.a.createElement(m.E,{onClick:function(){return e.handleNavigate("insights")}},c.a.createElement(m.B,null,c.a.createElement(vn.a,null)),c.a.createElement(M.b,{id:"game.options.insights"})),c.a.createElement(m.E,{onClick:this.toggleFullscreen},c.a.createElement(m.B,null,a?c.a.createElement(En.a,null):c.a.createElement(yn.a,null)),c.a.createElement(M.b,{id:a?"game.options.exitFullscreen":"game.options.fullscreen"})),c.a.createElement(m.E,{onClick:this.handleExit},c.a.createElement(m.B,null,c.a.createElement(pn.a,null)),c.a.createElement(M.b,{id:"game.options.exit"}))))}}]),t}(o.Component),Dn=Object(b.d)(Object(h.withStyles)(An),M.e,Object(u.b)(function(e){return{selectedSlide:e.game.selectedSlide,activeFollowUp:e.game.activeFollowUp,selectedCard:e.game.selectedCard}},{}),U.a)(Fn),Wn=Object(h.createStyles)({section:{marginTop:10},scrollableTable:{overflow:"auto",width:"100%"},tableCellNoBreak:{whiteSpace:"nowrap"}});function In(e){var t=e.playerInsights,n=e.players,r=e.classes;return c.a.createElement("div",{className:r.scrollableTable},t.predefined.length>0?function(e){var t=e.playerInsights,n=e.players;return c.a.createElement("div",null,c.a.createElement(m.N,null,c.a.createElement(M.b,{id:"insights.predefinedPlayers"}),": ",t.predefined.map(function(e){return n.find(function(t){return t.id===e})}).filter(function(e){return null!=e}).map(function(e){return e.name}).join(", ")))}(e):null,t.rounds.map(function(e,t){var a=It(e,function(e){return e.weight},1e3);return c.a.createElement("table",{key:t},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:r.tableCellNoBreak},c.a.createElement(m.N,null,c.a.createElement(M.b,{id:"insights.player",data:{number:t+1}}),":")),a.map(function(e){var t,r=n.find(function(t){return t.id===e.value.playerId});return t=void 0===r?c.a.createElement("span",null,c.a.createElement("i",null,c.a.createElement(M.b,{id:"insights.playerRemoved"}))," ","(",e.part/10,"%)"):c.a.createElement("span",null,r.name," (",e.part/10,"%)"),c.a.createElement("td",{key:e.value.playerId,style:{paddingLeft:10}},c.a.createElement(m.N,null,Ln(t,e.value.chosen)))}))))}))}function Ln(e,t){return t?c.a.createElement("b",null,e):e}var Rn=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playerInsights,n=e.classes,r=e.cardRef;return null===e.slideInsights?null:c.a.createElement("div",null,c.a.createElement(m.N,{variant:"h5"},c.a.createElement(M.b,{id:"insights.currentSlide"})),c.a.createElement(m.N,null,c.a.createElement(M.b,{id:"insights.currentCard"}),": ",null===r?c.a.createElement("i",null,c.a.createElement(M.b,{id:"insights.noCard"})):c.a.createElement("span",null,c.a.createElement(M.b,{id:"insights.cardInfo",data:{name:r.card.type,id:r.card.id,wp:void 0===r.card.willPower?c.a.createElement(M.b,{id:"insights.universal"}):r.card.willPower,url:r.deckUrl}}))),function(e){var t=e.slide,n=It(e.slideInsights.weights,function(e){return e.weight},1e3);return c.a.createElement("table",null,c.a.createElement("tbody",null,n.map(function(e){return c.a.createElement("tr",{key:e.value.value},c.a.createElement("td",null,c.a.createElement(m.N,null,Ln(c.a.createElement("span",null,e.value.value),e.value.value===t))),c.a.createElement("td",{style:{paddingLeft:10}},c.a.createElement(m.N,null,Ln(c.a.createElement("span",null,e.part/10,"%"),e.value.value===t))))})))}(this.props),c.a.createElement(m.N,{variant:"h6",className:n.section},c.a.createElement(M.b,{id:"insights.playerSelection"})),null===t?c.a.createElement(m.N,null,c.a.createElement("i",null,c.a.createElement(M.b,{id:"insights.noPlayers"}))):In(this.props))}}]),t}(o.Component),zn=Object(b.d)(Object(u.b)(function(e){return{slide:e.game.selectedSlide,slideInsights:e.game.slideInsights,playerInsights:e.game.playerInsights,players:e.play.players,cardRef:e.game.selectedCard}}),M.e,Object(h.withStyles)(Wn))(Rn),Mn={setWillPower:de,setWillPowerLocked:ue},Un=Object(h.createStyles)({toggleContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start"}});var Gn=Object(b.d)(Object(u.b)(function(e){return{currentWillPower:e.game.currentWillPower,isLocked:e.game.isWillPowerLocked}},Mn),M.e,Object(h.withStyles)(Un))(function(e){var t=e.currentWillPower,n=e.isLocked,r=e.setWillPower,a=e.setWillPowerLocked,i=e.classes;return o.createElement("div",null,o.createElement(m.N,{variant:"h5",gutterBottom:!0},o.createElement(M.b,{id:"insights.willPower"})),o.createElement("div",{className:i.toggleContainer},o.createElement(vt.c,{exclusive:!0,value:t,onChange:function(e,t){return r(t)},children:[1,2,3,4,5].map(function(e){return o.createElement(vt.b,{key:e,value:e},e)})})),o.createElement(m.q,{row:!0},o.createElement(m.p,{control:o.createElement(m.J,{checked:n,onChange:function(e,t){return a(t)}}),label:o.createElement(M.b,{id:"insights.lockWillPower"})})))}),Bn=n(24),_n=n(45),qn=function e(){Object(y.a)(this,e),this.playerSelection=null,this.slideWeights=null},Hn=function(){return Math.random()};function Kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hn;if(0!==e.length){var r=[],a=0,i=!0,l=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var u=c.value,d=t(u);r.push({item:u,weight:d}),a+=d}}catch(v){l=!0,o=v}finally{try{i||null==s.return||s.return()}finally{if(l)throw o}}for(var h=a*n(),m=0;m<r.length;m++){var f=r[m],p=f.item,g=f.weight;if(0!==g&&(h-=g)<=0)return p}}}var Vn=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).deckExhaustionLimit=.1,n.insights=new qn,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"getAllCardDeckStatistics",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.weightCards(this.status.decks,t),r={},a={},i={},l=new Array,o=!0,c=!1,s=void 0;try{for(var u,d=function(){var e=u.value;l.push.apply(l,Object(Bn.a)(e.cards.map(function(t){return{value:{card:t.value,deckUrl:e.deck.url},weight:t.weight*e.deck.weight}})))},h=n[Symbol.iterator]();!(o=(u=h.next()).done);o=!0)d()}catch(O){c=!0,s=O}finally{try{o||null==h.return||h.return()}finally{if(c)throw s}}this.boostWillPower(l);var m=!0,f=!1,p=void 0;try{for(var g,v=this.status.decks[Symbol.iterator]();!(m=(g=v.next()).done);m=!0){var b=g.value;r[b.url]=0}}catch(O){f=!0,p=O}finally{try{m||null==v.return||v.return()}finally{if(f)throw p}}for(var y=function(){var t=l[w],n=t.value,o=t.weight,c=e.status.decks.find(function(e){return e.url===n.deckUrl});r[n.deckUrl]+=o*c.weight;var s=n.card.willPower||0;void 0===i[s]&&(a[s]=0,i[s]=0),a[s]+=o*c.weight,i[s]+=1},w=0;w<l.length;w++)y();var E=Object.keys(a).map(function(e){var t=Number(e);return{value:{willPower:0===t?null:t,count:i[t]},weight:a[t]}});return{decks:Object.keys(r).map(function(t){var n=e.status.decks.find(function(e){return e.url===t});return{value:n,weight:r[t]*n.weight}}),willPower:E,totalCards:l.length}}},{key:"selectPlayers",value:function(e,t,n){var r=this;if(0===e.length)return[];if(e.length>this.status.players.length)throw new Error("More players were requested than available.");var a=new Array,i=e.map(function(e,n){return t.length>n?t[n]:null}),l=!0,o=!1,c=void 0;try{for(var s,u=function(){var e=s.value,t=r.status.arrangements.find(function(t){return t.p1===e.id||t.p2===e.id});void 0!==t&&(t.p1===e.id?a.push(t.p2):a.push(t.p1))},d=t.filter(function(e){return null!==e}).map(function(e){return e})[Symbol.iterator]();!(l=(s=d.next()).done);l=!0)u()}catch(O){o=!0,c=O}finally{try{l||null==d.return||d.return()}finally{if(o)throw c}}for(var h=0,m={predefined:t.filter(function(e){return null!=e}).map(function(e){return e.id}),rounds:[]};-1!==i.findIndex(function(e){return null===e});){for(var f=function(t){if(null!==i[t])return"continue";var l=e[t],o=void 0;switch(l){case"None":o=r.status.players;break;case"Male":o=r.status.players.filter(function(e){return"Male"===e.gender});break;case"Female":o=r.status.players.filter(function(e){return"Female"===e.gender});break;default:return"continue"}var c=o.filter(function(e){return!_.a.includes(i,e)}),s=i.filter(function(e){return null!==e&&"Male"===e.gender}).length,u=i.filter(function(e){return null!==e&&"Female"===e.gender}).length,d=new Array,f=r.selectRandomWeighted(c,function(e){var t=1;return _.a.some(a,function(t){return t===e.id})&&(_.a.some(Pt,function(e){return _.a.some(n,function(t){return e===t.toLowerCase()})})?t+=c.length:t+=.5*c.length),"None"===l&&r.status.preferOppositeGenders&&(s>u?"Female"===e.gender&&(t+=.5):u>s&&"Male"===e.gender&&(t+=.5)),d.push({playerId:e.id,weight:t,chosen:!1}),t});d.find(function(e){return e.playerId===f.id}).chosen=!0,m.rounds.push(d),i[t]=f,h++;var p=r.status.arrangements.find(function(e){return e.p1===f.id||e.p2===f.id});void 0!==p&&(p.p1===f.id?a.push(p.p2):a.push(p.p1))},p=0;p<e.length;p++)f(p);if(h===i.length)break;var g=i.filter(function(e){return null!==e&&"Male"===e.gender}).length,v=i.filter(function(e){return null!==e&&"Female"===e.gender}).length,b=null;if(g>v?b="Male":v>g&&(b="Female"),null!==b)for(var y=0;y<e.length;y++){switch(e[y]){case"Opposite":e[y]="Female"===b?"Male":"Female";break;case"Same":e[y]="Female"===b?"Female":"Male"}}else{var w=!1;for(p=0;p<e.length;p++)if("Same"===e[p]){e[p]="None",w=!0;break}if(!w)for(var E=0;E<e.length;E++)if("Opposite"===e[E]){w?e[E]="Same":(e[E]="None",w=!0);break}}}return this.insights.playerSelection=m,i.map(function(e){return e})}},{key:"selectCard",value:function(e){var t=this,n=this.weightCards(this.status.decks,e),r=new Array,a=!0,i=!1,l=void 0;try{for(var o,c=function(){var e=o.value;r.push.apply(r,Object(Bn.a)(e.cards.map(function(t){return{value:{card:t.value,deckUrl:e.deck.url},weight:t.weight*e.deck.weight}})))},s=n[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)c()}catch(m){i=!0,l=m}finally{try{a||null==s.return||s.return()}finally{if(i)throw l}}this.boostWillPower(r);for(var u=function(){var e=r[d],n=t.status.decks.find(function(t){return t.url===e.value.deckUrl});e.weight*=n.weight},d=0;d<r.length;d++)u();var h=this.selectRandomWeighted(r,function(e){return e.weight});if(void 0===h)throw new Error("That should not actually happen");return h.value}},{key:"boostWillPower",value:function(e){var t=this,n=this.status.willPower,r=e.filter(function(e){return e.value.card.willPower===n||e.value.card.willPower===n-1}),a=r.filter(function(e){return-1===t.status.cardsHistory.findIndex(function(t){return t.deckUrl===e.value.deckUrl&&t.card.id===e.value.card.id})}),i=(r.length-a.length)/r.length;if(this.deckExhaustionLimit>i&&a.length>50){var l=e.reduce(function(e,t){return e+t.weight},0),o=a.reduce(function(e,t){return e+t.weight},0);console.log("total: ".concat(l,", unplayed: ").concat(o));if(.7*l>o){var c=.7*l-o+o/o;console.log("factor: "+c);var s=!0,u=!1,d=void 0;try{for(var h,m=a[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var f=h.value;f.weight=f.weight*c}}catch(p){u=!0,d=p}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}}}}},{key:"selectNextSlide",value:function(e){var t=this,n=[],r=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var c=l.value,s=!0,u=!1,d=void 0;try{for(var h,m=function(){var e=h.value;-1===n.findIndex(function(t){return t===e})&&n.push(e)},f=c.requestedCards[Symbol.iterator]();!(s=(h=f.next()).done);s=!0)m()}catch(L){u=!0,d=L}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}}}catch(L){a=!0,i=L}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}for(var p={},g=0;g<n.length;g++){var v=n[g],b=this.weightCards(this.status.decks.filter(function(e){return 0!==e.weight}),v),y=[],w=!0,E=!1,O=void 0;try{for(var j,k=b[Symbol.iterator]();!(w=(j=k.next()).done);w=!0){var S=j.value;y.push.apply(y,Object(Bn.a)(S.cards))}}catch(L){E=!0,O=L}finally{try{w||null==k.return||k.return()}finally{if(E)throw O}}0===y.length?p[v]=0:p[v]=.75+.25*y.reduce(function(e,t){return e+t.weight},0)/y.length}var C=[],x=!0,N=!1,T=void 0;try{for(var P,A=function(){var e=P.value,n=t.status.slides.find(function(t){return t.value===e.slideType});if(void 0===n||0===n.weight)return"continue";var r=1,a=!0,i=!1,l=void 0;try{for(var o,c=e.requestedCards[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;r=Math.min(p[s],r)}}catch(L){i=!0,l=L}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}if(0===r)return"continue";C.push({weight:r*n.weight,value:e})},F=e[Symbol.iterator]();!(x=(P=F.next()).done);x=!0)A()}catch(L){N=!0,T=L}finally{try{x||null==F.return||F.return()}finally{if(N)throw T}}if(C.length>2&&e.length>2&&this.status.slidesHistory.length>0){var D=this.status.slidesHistory[0],W=C.find(function(e){return e.value.slideType===D});void 0!==W&&(W.weight=0)}this.insights.slideWeights={weights:C.map(function(e){return{weight:e.weight,value:e.value.slideType}})};var I=this.selectRandomWeighted(C,function(e){return e.weight});if(void 0!==I)return I.value.slideType}},{key:"getSips",value:function(e){return e=Math.max(e,1),Math.max(e,Math.floor(4*this.getRandom())+1)}},{key:"weightCards",value:function(e,t){var n=this,r=e.map(function(e){return{cards:e.cards.filter(function(e){return(null===t||e.type===t)&&(0===e.tags.length||-1===e.tags.findIndex(function(e){var t=n.status.tags.find(function(t){return t.value===e});return void 0!==t&&0===t.weight}))}),url:e.url,weight:e.weight}}),a=r.reduce(function(e,t){return e+t.cards.length},0),i=[],l=this.status.willPower,o=!0,c=!1,s=void 0;try{for(var u,d=function(){var e=u.value,t=n.status.cardsHistory.filter(function(t){return t.deckUrl===e.url}),r=void 0,o=t.length/e.cards.length;r=o>n.deckExhaustionLimit?.5*Math.pow(Math.max(1.1-o,.1),2):1;var c=[],s=!0,d=!1,h=void 0;try{for(var m,f=e.cards[Symbol.iterator]();!(s=(m=f.next()).done);s=!0){var p=m.value,g=r*n.rateWillPower(p.willPower,l)*n.getHistoryFactor(p.id,t,a)*n.getTagsFactor(p.tags,n.status.tags);0!==g&&c.push({value:p,weight:g})}}catch(v){d=!0,h=v}finally{try{s||null==f.return||f.return()}finally{if(d)throw h}}i.push({deck:e,cards:c})},h=r[Symbol.iterator]();!(o=(u=h.next()).done);o=!0)d()}catch(m){c=!0,s=m}finally{try{o||null==h.return||h.return()}finally{if(c)throw s}}return i}},{key:"recomputeWillPower",value:function(e){var t=new Array,n=new Date,r=this.status.willPower;!_.a.includes(e,"AFTER_10")&&(n.getHours()>22||n.getHours()<8)&&(r++,t.push("AFTER_10"));var a=this.status.slidesHistory.length;if(a%12===0&&0!==a){var i=a/12;_.a.includes(e,"SLIDES_".concat(i))||(r++,t.push("SLIDES_".concat(i)))}return r>5&&(r=5),{willPower:r,memory:t}}},{key:"getTagsFactor",value:function(e,t){var n=e.map(function(e){return t.find(function(t){return t.value===e})}).filter(function(e){return void 0!==e}).map(function(e){return e.weight});return n.length>0?Math.min.apply(Math,Object(Bn.a)(n)):.5}},{key:"getHistoryFactor",value:function(e,t,n){var r=t.findIndex(function(t){return t.card.id===e});return-1===r?1:r>n?0:r/n}},{key:"rateWillPower",value:function(e,t){if(void 0===e)return.75;if(e===t)return 1;if(e>t){var n=.15-.1*(e-t);return n<0?0:n}return.5}},{key:"verifyPlayerSpecification",value:function(e,t){if(t.length>e.length)return!1;var n=t.filter(function(e){return"Male"===e.gender}).length,r=e.filter(function(e){return"Male"===e.gender}).length;if(n>r)return!1;var a=t.filter(function(e){return"Female"===e.gender}).length,i=e.filter(function(e){return"Female"===e.gender}).length;return!(a>i)&&(!(t.filter(function(e){return"Opposite"===e.gender}).length>Math.min(i,r))&&!(t.filter(function(e){return"Same"===e.gender}).length+1>Math.max(i,r)))}}]),t}(function(){function e(t,n){Object(y.a)(this,e),this.status=t,this.random=void 0,this.random=n}return Object(w.a)(e,[{key:"getRandom",value:function(){return this.random()}},{key:"selectRandomWeighted",value:function(e,t){var n=this;return Kn(e,t,function(){return n.random()})}},{key:"selectRandomFromWeightedList",value:function(e){var t=this;return function(e){var t=Kn(e,function(e){return e.weight},arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hn);if(void 0!==t)return t.value}(e,function(){return t.random()})}}]),e}()),$n=n(368),Yn=n.n($n),Jn=n(846),Qn=n(164),Xn=n.n(Qn),Zn=function(){function e(t,n){Object(y.a)(this,e),this.requestFile=t,this.parserFactory=n,this.domParser=new DOMParser}return Object(w.a)(e,[{key:"loadFromUrl",value:function(){var e=Object(Vt.a)(Kt.a.mark(function e(t){var n;return Kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.loadFile(t,n,void 0);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadFile",value:function(){var e=Object(Vt.a)(Kt.a.mark(function e(t,n,r){var a,i,l,o,c,s,u;return Kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestFile(t);case 2:a=e.sent,i=this.domParser.parseFromString("<Root>"+a+"</Root>","text/xml"),l=i.getElementsByTagName("*"),o=0;case 6:if(!(o<l.length)){e.next=25;break}if((c=l[o]).parentElement===i.documentElement){e.next=10;break}return e.abrupt("continue",22);case 10:if("DeckReference"!==c.nodeName){e.next=14;break}return e.next=13,this.parseDeckReference(c,n,r);case 13:return e.abrupt("continue",22);case 14:if(void 0!==(s=this.parserFactory.createParser(c.nodeName))){e.next=18;break}return console.error("The card ".concat(c.nodeName," could not be parsed. No parser found.")),e.abrupt("continue",22);case 18:if(u=s.deserialize(c),void 0===r||-1!==r.indexOf(u.id)){e.next=21;break}return e.abrupt("continue",22);case 21:n.push(u);case 22:o++,e.next=6;break;case 25:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"parseDeckReference",value:function(e,t,n){var r=e.getAttribute("url");if(null===r)throw new Error("The url on a deck reference must not be null.");for(var a,i=[],l=e.getElementsByTagName("CardRef"),o=0;o<l.length;o++){var c=l[o].getAttribute("id");null!==c&&i.push(c)}if(0===i.length)a=n;else if(void 0!==n){a=[];var s=!0,u=!1,d=void 0;try{for(var h,m=n[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var f=h.value;i.indexOf(f)>-1&&a.push(f)}}catch(p){u=!0,d=p}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}}else a=i;return this.loadFile(r,t,a)}}]),e}(),er=n(50),tr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"None";Object(y.a)(this,e),this.playerIndex=t,this.gender=n},nr=function(){function e(){Object(y.a)(this,e)}return Object(w.a)(e,null,[{key:"parsePlayerTag",value:function(e){if(e.startsWith("Player")){if(e.length>"Player".length){var t=Number(e.substring("Player".length));return isNaN(t)?void 0:t}return 1}}},{key:"parseGenderRequirement",value:function(e){if((e=e.toLowerCase())in this.genderRequirementMap)return this.genderRequirementMap[e]}},{key:"parseTimeSpanStringToSeconds",value:function(e){var t=e.split(":");if(!(t.length>3)){for(var n=0,r=0;r<t.length;r++){var a=Number(t[r]);if(isNaN(a))return;n+=a*Math.pow(60,t.length-r-1)}return n}}}]),e}();nr.genderRequirementMap={m:"Male",male:"Male",f:"Female",female:"Female",o:"Opposite",opposite:"Opposite",s:"Same",same:"Same"};var rr=function(){function e(){Object(y.a)(this,e)}return Object(w.a)(e,[{key:"deserialize",value:function(e){var t=this.createCard(),n=e.getAttribute("id");if(null===n)throw new Error("The id of a card must not be null");t.id=n,t.willPower=Number(e.getAttribute("willPower")),(t.willPower<1||t.willPower>10)&&(t.willPower=void 0);var r=e.getAttribute("tags");t.tags=r?[].concat(Object(Bn.a)(this.getDefaultAttributes()),Object(Bn.a)(r.split(","))):this.getDefaultAttributes(),this.parseAttributes(e,t);for(var a=e.getElementsByTagName("*"),i=0;i<a.length;i++){var l=a[i];l.parentElement===e&&(l.tagName!=="".concat(e.tagName,".players")?this.parseElement(l,t):t.players=this.parsePlayers(l))}return void 0===t.players&&(t.players=[]),t}},{key:"getDefaultAttributes",value:function(){return[]}},{key:"parsePlayers",value:function(e){for(var t=[],n=e.getElementsByTagName("*"),r=0;r<n.length;r++){var a=n[r];if(a.parentElement===e){var i=this.parsePlayer(a);void 0!==i&&t.push(i)}}return t}},{key:"parsePlayer",value:function(e){var t=nr.parsePlayerTag(e.tagName);if(void 0!==t){var n="None",r=e.getAttribute("gender");if(r){var a=nr.parseGenderRequirement(r);void 0!==a&&(n=a)}return new tr(t,n)}}}]),e}(),ar=function e(){Object(y.a)(this,e),this.weight=1,this.translations=void 0},ir=function e(t,n){Object(y.a)(this,e),this.lang=t,this.content=n},lr=function(){function e(){Object(y.a)(this,e),this.result=void 0,this.isConditionalElement=void 0,this.result=[]}return Object(w.a)(e,[{key:"addElement",value:function(e){switch(e.tagName){case"Case":return!1!==this.isConditionalElement&&(this.isConditionalElement=!0,this.result.push(this.parseTextElement(e)),!0);case"Text":return!0!==this.isConditionalElement&&(void 0===this.isConditionalElement&&this.result.push({translations:[],weight:1}),this.isConditionalElement=!1,this.result[0].translations.push(this.parseTranslation(e)),!0);default:return!1}}},{key:"parseTextElement",value:function(e){var t=[],n=new ar,r=e.getAttribute("weight");null===r||isNaN(Number(r))?n.weight=1:n.weight=Number(r);for(var a=e.getElementsByTagName("Text"),i=0;i<a.length;i++){var l=a[i];t.push(this.parseTranslation(l))}return n.translations=t,n}},{key:"parseTranslation",value:function(e){var t=e.getAttribute("lang");if(null===t)throw new Error("lang attribute not found on element");if(null===e.textContent)throw new Error("The text content of the element is empty.");return new ir(t,e.textContent)}}]),e}(),or=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).textContentParser=new lr,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"parseAttributes",value:function(e,t){var n=e.getAttribute("followUpProbability");if(null!==n){var r=Number(n);if(isNaN(r))throw new Error("The follow up propability ".concat(n," could not be parsed as a number (card: ").concat(t.id,")."));t.followUpPropability=r}var a=e.getAttribute("followUpDelay");if(null!==a){var i=nr.parseTimeSpanStringToSeconds(a);if(void 0===i)throw new Error("Could not parse followUpDelay ".concat(a," as a timespan (card: ").concat(t.id,")."));t.followUpDelay=i}else t.followUpDelay=0}},{key:"parseElement",value:function(e,t){switch(e.tagName){case"Text":case"Case":return t.content=this.textContentParser.result,this.textContentParser.addElement(e)}if(e.tagName==="".concat(t.type,".followUp")){for(var n=new lr,r=e.getElementsByTagName("*"),a=0;a<r.length;a++){var i=r[a];i.parentElement===e&&n.addElement(i)}return t.followUp=n.result,!0}return!1}}]),t}(rr),cr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).followUpPropability=1,n.followUpDelay=void 0,n.content=void 0,n.followUp=void 0,n.condition=function(e){return _.a.some(n.content,function(t){return _.a.some(t.translations,function(t){return t.lang===e.language})})},n}return Object(j.a)(t,e),t}(function e(){Object(y.a)(this,e),this.id=void 0,this.willPower=void 0,this.players=void 0,this.tags=void 0,this.condition=void 0,this.type=void 0}),sr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="FactCard",n.isTrueFact=!1,n}return Object(j.a)(t,e),t}(cr),ur=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"createCard",value:function(){return new sr}},{key:"parseAttributes",value:function(e,n){Object(er.a)(Object(O.a)(t.prototype),"parseAttributes",this).call(this,e,n);var r=e.getAttribute("is");n.isTrueFact=null===r||this.toBool(r)}},{key:"toBool",value:function(e){return"true"===e||void 0!==e&&!!+e}}]),t}(or),dr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="VirusCard",n}return Object(j.a)(t,e),t}(cr),hr=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"createCard",value:function(){return new dr}},{key:"parseAttributes",value:function(e,n){Object(er.a)(Object(O.a)(t.prototype),"parseAttributes",this).call(this,e,n),null===e.getAttribute("followUpDelay")&&(n.followUpDelay=300)}}]),t}(or),mr=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this))).factory=e,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"createCard",value:function(){return new this.factory}}]),t}(or),fr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="DownCard",n}return Object(j.a)(t,e),t}(cr),pr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="NeverEverCard",n}return Object(j.a)(t,e),t}(cr),gr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="JokeCard",n}return Object(j.a)(t,e),t}(cr),vr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="QuestionCard",n}return Object(j.a)(t,e),t}(cr),br=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="TaskCard",n}return Object(j.a)(t,e),t}(cr),yr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="WyrCard",n}return Object(j.a)(t,e),t}(cr),wr=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="DrinkCard",n}return Object(j.a)(t,e),t}(cr),Er=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="GroupGameCard",n}return Object(j.a)(t,e),t}(cr),Or=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).type="NoIdeaLosesCard",n}return Object(j.a)(t,e),t}(cr),jr={FactCard:function(){return new ur},VirusCard:function(){return new hr},DownCard:function(){return new mr(fr)},NeverEverCard:function(){return new mr(pr)},JokeCard:function(){return new mr(gr)},QuestionCard:function(){return new mr(vr)},TaskCard:function(){return new mr(br)},WyrCard:function(){return new mr(yr)},DrinkCard:function(){return new mr(wr)},GroupGameCard:function(){return new mr(Er)},NoIdeaLosesCard:function(){return new mr(Or)}},kr=new Zn(function(e){return Sr.apply(this,arguments)},new(function(){function e(){Object(y.a)(this,e),this.parsers=void 0,this.parsers=jr}return Object(w.a)(e,[{key:"createParser",value:function(e){if(e in this.parsers)return this.parsers[e]()}}]),e}()));function Sr(){return(Sr=Object(Vt.a)(Kt.a.mark(function e(t){var n;return Kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.startsWith("/")&&(t+="?version=".concat("8cec35c")),e.next=3,Xn.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cr(e){return xr.apply(this,arguments)}function xr(){return(xr=Object(Vt.a)(Kt.a.mark(function e(t){return Kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr.loadFromUrl(t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Nr={api:{cardsLoader:r}},Tr=n(847),Pr=n(373),Ar=n(374),Fr=n(842),Dr=n(369),Wr=n(370),Ir=n(843),Lr=n(844),Rr=n(845);var zr=function(e,t,n){var r=n.api;return e.pipe(Object(Fr.a)(Object(ne.isActionOf)(it.request)),Object(Dr.a)(function(e){return Object(Pr.a)(r.cardsLoader.loadCards(e.payload)).pipe(Object(Wr.a)(function(t){return it.success({url:e.payload,cards:t})}),Object(Ir.a)(function(t){return Object(Ar.a)(it.failure({url:e.payload,message:t}))}))}))},Mr=function(e,t,n){return e.pipe(Object(Fr.a)(Object(ne.isActionOf)(ht)),Object(Lr.a)(function(){localStorage.clear()}),Object(Lr.a)(function(){return window.location.reload()}),Object(Rr.a)())},Ur=function e(){Object(y.a)(this,e)},Gr=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this))).text=e,n}return Object(j.a)(t,e),t}(Ur),Br=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),t}(Ur),_r=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"None";return Object(y.a)(this,t),(e=Object(E.a)(this,Object(O.a)(t).call(this))).playerIndex=n,e.gender=r,e}return Object(j.a)(t,e),t}(Br),qr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(y.a)(this,t),(e=Object(E.a)(this,Object(O.a)(t).call(this))).minSips=n,e.sipsIndex=r,e}return Object(j.a)(t,e),t}(Br),Hr=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this))).numbers=e,n}return Object(j.a)(t,e),t}(Ur),Kr=function(){function e(t,n){Object(y.a)(this,e),this.min=t,this.max=n}return Object(w.a)(e,[{key:"getCount",value:function(){return this.max-this.min}}]),e}(),Vr=function(){function e(t){Object(y.a)(this,e),this.i=t}return Object(w.a)(e,[{key:"getCount",value:function(){return 1}}]),e}(),$r=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this))).texts=e,n}return Object(j.a)(t,e),t}(Ur),Yr=function(e){function t(e,n,r){var a;return Object(y.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this))).femaleText=e,a.maleText=n,a.referencedPlayerIndex=r,a}return Object(j.a)(t,e),t}(Ur),Jr=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),t}(Br),Qr=function(){function e(){Object(y.a)(this,e)}return Object(w.a)(e,[{key:"decode",value:function(e){var t=[],n=0,r=0;do{if("["==e[n]){r!==n&&t.push(new Gr(e.substring(r,n)));var a=this.readToken(e,n,"]");n=a.index,t.push(this.parseVariableFragment(a.value))}else{if("{"!==e[n])continue;if(n>1&&"!"===e[n-1]){r!==--n&&t.push(new Gr(e.substring(r,n))),n++;var i=this.readToken(e,n,"}");n=i.index,t.push(this.parseRandomSelectionFragment(i.value))}else{r!==n&&t.push(new Gr(e.substring(r,n)));var l=this.readToken(e,n,"}");n=l.index,t.push(this.parseGenderSelectionFragment(l.value))}}r=n}while(++n<e.length);return r!==e.length&&t.push(new Gr(e.substring(r))),t}},{key:"parseVariableFragment",value:function(e){if((e=e.toLowerCase()).startsWith("player")){var t,n=new _r,r=e.indexOf(":");if(-1===r)t=e;else{t=e.substring(0,r);var a=e.substring(r+1),i=nr.parseGenderRequirement(a);if(void 0===i)throw new Error("Gender parameter of player tag could not be parsed: ".concat(e));n.gender=i}return n.playerIndex=this.parsePlayerIndex(t),n}if(e.startsWith("sips")){var l,o=new qr,c=e.indexOf(":");if(-1===c)l=e;else if(l=e.substring(0,c),o.minSips=Number(e.substring(c+1)),isNaN(o.minSips))throw new Error('The sips amount of "'.concat(l,'" could not be parsed.'));if(l.length>"sips".length&&(o.sipsIndex=Number(l.substring("sips".length)),isNaN(o.sipsIndex)))throw new Error('The sips index of "'.concat(l,'" could not be parsed.'));return o}return"socialmediaplatform"===e?new Jr:new Gr(e)}},{key:"parseRandomSelectionFragment",value:function(e){if(/^[0-9,-]+$/.test(e)){var t=this.parseNumberArray(e);return new Hr(t)}var n=this.splitQuoted(e,",");return new $r(n)}},{key:"parseNumberArray",value:function(e){for(var t=[],n=null,r=0,a=!1,i=0;;){for(;i<e.length;i++){var l=e[i];if(isNaN(Number(l))){if("-"!==l){if(","===l)break;throw new Error("Invalid character found: "+l)}if(a)throw new Error("Can only have one range identifier per field");a=!0,n=new Kr(Number(e.substring(r,i)),0),r=i+1}}if(i===r)throw new Error("A number was expected at position ".concat(i,' in string "').concat(e,'"'));var o=Number(e.substring(r,i));if(a?n.max=o:n=new Vr(o),t.push(n),i===e.length)break;n=null,a=!1,r=++i}return t}},{key:"splitQuoted",value:function(e,t){for(var n=0,r=[];e.length>n-1;){var a=!1;'"'===e[n]&&(a=!0,n++);var i=n;do{if(e[i]===t){if(a)continue;r.push(e.substring(n,i)),n=i+1;break}if('"'==e[i]){if(!a)continue;if(i==e.length-1)return r.push(e.substring(n,i).replace('""','"')),r;var l=e[i+1];if('"'==l){i++;continue}if(l!=t)throw new Error("The delimiter must come after the closing quotes.");r.push(e.substring(n,i).replace('""','"')),n=i+2;break}if(i==e.length-1){if(a)throw new Error("The text must end with a quote");return r.push(e.substring(n,i+1)),r}}while(++i<e.length)}return r}},{key:"parseGenderSelectionFragment",value:function(e){var t=new Yr(""),n=e.indexOf("/"),r=e.indexOf("|");return-1!==r&&(t.referencedPlayerIndex=this.parsePlayerIndex(e.substring(r+1)),e=e.substring(0,r)),-1===n?t.femaleText=e:(t.maleText=e.substring(0,n),t.femaleText=e.substring(n+1,e.length)),t}},{key:"parsePlayerIndex",value:function(e){if(e.length>"player".length){var t=Number(e.substring("player".length));if(isNaN(t))throw new Error('The player index of "'.concat(e,'" could not be parsed.'));return t}return 1}},{key:"readToken",value:function(e,t,n){for(var r=e.length,a=t;++t<r;){var i=e[t];if("\\"!==i){if(i===n){t++;break}}else t++}return{index:t,value:e.substring(a+1,t-1)}}}]),e}(),Xr=function(){function e(){Object(y.a)(this,e)}return Object(w.a)(e,null,[{key:"getRequiredPlayers",value:function(e,t){var n=new Array,r=_.a.groupBy(e.filter(function(e){return e instanceof _r}).map(function(e){return e}),"playerIndex");for(var a in r)r.hasOwnProperty(a)&&function(){var e=r[a][0],i=e.gender;if("None"===i){var l=t.find(function(t){return t.playerIndex===e.playerIndex});void 0!==l&&(i=l.gender)}n.push({playerIndex:e.playerIndex,gender:i})}();return n}},{key:"getRequiredSips",value:function(e){var t=_.a.groupBy(e.filter(function(e){return e instanceof qr}).map(function(e){return e}),"sipsIndex");return Object.values(t).map(function(e){return e[0]})}},{key:"format",value:function(e,t,n,r,a,i,l){var o="",c=null,s=!0,u=!1,d=void 0;try{for(var h,m=e[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var f=h.value;if(f instanceof Gr)o+=f.text;else if(f instanceof _r)l.boldPlayerNames&&(o+="**"),o+=t[f.playerIndex].name,l.boldPlayerNames&&(o+="**"),c=f;else if(f instanceof qr){l.boldSips&&(o+="**");var p=n[f.sipsIndex];o+=1===p?a("oneSip"):"".concat(p," ").concat(a("sips")),l.boldSips&&(o+="**")}else if(f instanceof Yr){var g=void 0;if(void 0!==f.referencedPlayerIndex)g=f.referencedPlayerIndex;else if(null!==c)g=c.playerIndex;else{var v=Object.keys(t);if(0===v.length)continue;g=Number(v[0])}var b="Female"===t[g].gender?f.femaleText:f.maleText;void 0!==b&&(o+=b)}else if(f instanceof $r){o+=i.selectRandomWeighted(f.texts,function(){return 1})}else if(f instanceof Hr){var y=i.selectRandomWeighted(f.numbers,function(e){return e.getCount()});if(void 0===y)continue;if(y instanceof Kr)o+=y.min+Math.round((y.max-y.min)*i.getRandom());else y instanceof Vr&&(o+=y.i)}else f instanceof Jr&&(o+=r)}}catch(w){u=!0,d=w}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}return o}}]),e}(),Zr=function(e){function t(e,n,r){var a;return Object(y.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,n,r))).translator=e,a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"initializeCard",value:function(e,t){var n,r,a=ti(),i=new Array,l=this.selectText(a,e);try{var o=this.formatText(l,e,null,a);n=o.formatted,r=o.players}catch(u){return[ie.request(this.translator)]}var c=this.initializeState(n,e,r,a);if(i.push(oe({state:c,insights:a.insights.playerSelection})),_.a.some(e.followUp)&&Math.random()<=e.followUpPropability){var s=new Date;s.setSeconds(s.getSeconds()+e.followUpDelay),i.push(ce(this.createFollowUp(t,r,s)))}return i}},{key:"initializeFollowUpCard",value:function(e,t){var n=ti();try{var r=this.selectFollowUpText(n,e,t),a=r.text,i=r.players,l=this.formatText(a,e,i||[],n).formatted,o=this.initializeFollowUpState(l,e,n,t);return[oe({state:o,insights:n.insights.playerSelection})]}catch(c){return[ie.request(this.translator)]}}},{key:"createFollowUp",value:function(e,t,n){return{due:n,slideType:this.slideType,selectedCard:e,param:{definedPlayers:t}}}},{key:"selectText",value:function(e,t){return ta(e,t,this.translator)}},{key:"formatText",value:function(e,t,n,r){return ea(e,t,n,r,this.translator)}},{key:"selectFollowUpText",value:function(e,t,n){var r,a=this.translator.languageCode,i=t.followUp.filter(function(e){return _.a.some(e.translations,function(e){return e.lang.toLowerCase()===a})});if(0===i.length)throw new Error("No follow ups found");return r="definedPlayers"in n?n.definedPlayers:void 0,{text:e.selectRandomWeighted(i,function(e){return e.weight}).translations.find(function(e){return e.lang===a}).content,players:r}}}]),t}(function(){function e(t,n){Object(y.a)(this,e),this.cardType=t,this.slideType=n,this.backgroundColor=void 0,this.requiredCards=void 0,this.requiredCards=[t]}return Object(w.a)(e,[{key:"initialize",value:function(){var e=ti().selectCard(this.cardType);return[le(e)].concat(Object(Bn.a)(this.initializeCard(e.card,e)))}},{key:"initializeFollowUp",value:function(e,t){return this.initializeFollowUpCard(e.card,t,e)}}]),e}());function ea(e,t,n,r,a){var i=(new Qr).decode(e),l=ei(r,Xr.getRequiredPlayers(i,t.players),n||[],t.tags),o=Xr.getRequiredSips(i),c={},s=!0,u=!1,d=void 0;try{for(var h,m=l[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var f=h.value;c[f.index]=f.player}}catch(j){u=!0,d=j}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}var p={},g=!0,v=!1,b=void 0;try{for(var y,w=o[Symbol.iterator]();!(g=(y=w.next()).done);g=!0){var E=y.value;p[E.sipsIndex]=r.getSips(E.minSips)}}catch(j){v=!0,b=j}finally{try{g||null==w.return||w.return()}finally{if(v)throw b}}var O=Za.getState().settings.socialMediaPlatform;return{formatted:Xr.format(i,c,p,O,function(e){return a.translate("game.textFormatter.".concat(e))},r,{boldPlayerNames:!0,boldSips:!0}),players:l}}function ta(e,t,n){var r=n.languageCode,a=t.content.filter(function(e){return _.a.some(e.translations,function(e){return e.lang.toLocaleLowerCase()===r})});return e.selectRandomWeighted(a,function(e){return e.weight}).translations.find(function(e){return e.lang===r}).content}var na={down:"#c23616",drink:"#2470A3",fact:"#D5880B",groupGame:"#664EDF",neverEver:"#C75000",noIdeaLoses:"#192a56",truthOrDare:"#2c3e50",virus:"##219150",wouldYouRather:"#273c75",task:"##667293"},ra={nextSlide:ie.request,setState:oe,applyCard:le};var aa=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState,players:e.play.players}},ra),Object(h.withStyles)(function(e){var t;return Object(h.createStyles)({root:Object(d.a)({},{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},{cursor:"default"}),clickableRoot:Object(d.a)({},{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"}),content:ln(e),header:Object(k.a)({marginBottom:15},e.breakpoints.down("sm"),{fontSize:"1.5em"}),spaceHeader:{visibility:"hidden",marginTop:15},questionPaper:(t={padding:2*e.spacing.unit},Object(k.a)(t,e.breakpoints.up("sm"),{width:50*e.spacing.unit}),Object(k.a)(t,e.breakpoints.down("xs"),{width:"80vw",margin:e.spacing.unit}),t),questionButtonsContainer:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing.unit},refuseMessage:{opacity:.8,marginTop:10}})}),M.e)(function(e){var t=e.classes,n=e.state;return null===n?o.createElement("div",{className:t.root}):n.isDeciding?o.createElement("div",{className:t.root},function(e){var t=e.state,n=e.players,r=e.nextSlide,a=e.classes,i=n.find(function(e){return e.id===t.selectedPlayer});if(void 0===i)return r(an(e)),o.createElement("div",null);var l=function(t){return new ia(an(e)).select(t,e,i)},c=Object(nn.b)({opacity:1,transform:"scale(1, 1)",from:{opacity:0,transform:"scale(2.5, 2.5)"}});return o.createElement(nn.a.div,{style:c},o.createElement(m.F,{className:a.questionPaper},o.createElement(m.N,{style:{fontSize:17,fontWeight:500}},o.createElement(M.b,{id:"slides.truthordare.playerTruthordare",data:{name:i.name}})),o.createElement("div",{className:a.questionButtonsContainer},o.createElement(m.c,{variant:"contained",color:"primary",style:{marginRight:15},onClick:function(){return l("Truth")}},o.createElement(M.b,{id:"slides.truthordare.truth"})),o.createElement(m.c,{variant:"contained",color:"secondary",onClick:function(){return l("Dare")}},o.createElement(M.b,{id:"slides.truthordare.dare"})))))}(e)):"Dare"===n.decision?function(e){var t=e.classes,n=e.nextSlide,r=e.state,a=o.createElement(m.N,{className:t.header,variant:"h5",color:"inherit"},o.createElement(M.b,{id:"slides.truthordare.truth"})," ",o.createElement(M.b,{id:"slides.truthordare.or"})," ",o.createElement("b",null,o.createElement(M.b,{id:"slides.truthordare.dare"})));return o.createElement("div",{className:t.clickableRoot,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement(m.N,{className:t.refuseMessage,color:"inherit"},o.createElement(M.b,{id:"slides.truthordare.refuseDare"})),o.createElement("div",{className:t.spaceHeader},a)))}(e):function(e){var t=e.classes,n=e.nextSlide,r=e.state,a=o.createElement(m.N,{className:t.header,variant:"h4",color:"inherit"},o.createElement("b",null,o.createElement(M.b,{id:"slides.truthordare.truth"}))," ",o.createElement(M.b,{id:"slides.truthordare.or"})," ",o.createElement(M.b,{id:"slides.truthordare.dare"}));return o.createElement("div",{className:t.clickableRoot,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement(m.N,{className:t.refuseMessage,color:"inherit"},o.createElement(M.b,{id:"slides.truthordare.refuseTruth"})),o.createElement("div",{className:t.spaceHeader},a)))}(e)}),ia=function(){function e(t){Object(y.a)(this,e),this.translator=t,this.backgroundColor=na.truthOrDare,this.slideType="TruthOrDareSlide",this.requiredCards=["TaskCard","QuestionCard"]}return Object(w.a)(e,[{key:"select",value:function(e,t,n){for(var r,a=ti(),i="Dare"===e?"TaskCard":"QuestionCard",l=null,o=0;o<5;o++){var c=(r=a.selectCard(i)).card,s=ta(a,c,this.translator),u="#### ".concat(this.translator.translate("slides.truthordare.instruction"),"\n").concat(s);try{l=ea(u,c,[{index:99,player:n}],a,this.translator).formatted}catch(h){continue}}if(null!==l){t.applyCard(r);var d={isDeciding:!1,selectedPlayer:n.id,markdownContent:l,decision:e};t.setState({state:d,insights:a.insights.playerSelection})}else t.nextSlide(this.translator)}},{key:"initialize",value:function(){var e=ti(),t=ei(e,[new tr(1,"None")],[],[])[0].player;return[this.setState({isDeciding:!0,selectedPlayer:t.id},e.insights.playerSelection)]}},{key:"setState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return oe({state:e,insights:t})}},{key:"initializeFollowUp",value:function(){throw new Error("Method not supported.")}},{key:"render",value:function(){return o.createElement(aa,null)}}]),e}(),la={nextSlide:ie.request};var oa=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},la),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:Object(d.a)({},on(e),{marginBottom:15}),hidden:{visibility:"hidden"}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});var a=o.createElement(m.N,{className:t.header,variant:"h3",color:"inherit"},o.createElement(M.b,{id:"slides.down.title"}));return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},o.createElement(rn.Spring,{config:rn.config.wobbly,from:{transform:"translate(-100px, 0px)"},to:{transform:"translate(0px, 0px)"}},function(e){return o.createElement("div",{style:e},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement("div",{className:t.hidden},a))})))}),ca=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"DownCard","DownSlide"))).backgroundColor=na.down,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(oa,null)}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(Zr),sa={nextSlide:ie.request};var ua=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},sa),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:Object(d.a)({},on(e),{marginBottom:10}),hidden:{visibility:"hidden"}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});var a=o.createElement(m.N,{className:t.header,variant:"h4",color:"inherit"},o.createElement(M.b,{id:"slides.fact.title".concat(r.isFollowUp?r.isTrue?".true":".false":"")}));return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement("div",{className:t.hidden},a)))}),da=["singleplayer","multiplayer"],ha=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"FactCard","FactSlide"))).selectedMode=void 0,n.players=void 0,n.backgroundColor=na.fact,n.selectedMode=da[Math.floor(da.length*Math.random())],n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(ua,null)}},{key:"selectText",value:function(e,n){var r=Object(er.a)(Object(O.a)(t.prototype),"selectText",this).call(this,e,n),a=this.translator.translate("slides.fact.".concat(this.selectedMode));return"#### ".concat(a,"\n").concat(r)}},{key:"selectFollowUpText",value:function(e,t,n){var r=n,a=r.mode,i=r.players,l=t.isTrueFact;return{text:this.translator.translate("slides.fact.".concat(a,".").concat(l)),players:i}}},{key:"initializeState",value:function(e,t,n){return this.players=n,{isFollowUp:!1,markdownContent:e,mode:this.selectedMode,isTrue:t.isTrueFact}}},{key:"initializeFollowUpState",value:function(e,t,n){return{isFollowUp:!0,markdownContent:e,mode:n.mode,isTrue:t.isTrueFact}}},{key:"initializeCard",value:function(e,n){return[].concat(Object(Bn.a)(Object(er.a)(Object(O.a)(t.prototype),"initializeCard",this).call(this,e,n)),[ce({due:new Date,selectedCard:n,slideType:"FactSlide",param:{mode:this.selectedMode,players:this.players}})])}}]),t}(Zr),ma={nextSlide:ie.request};var fa=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},ma),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:cn(e),hidden:{visibility:"hidden"}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});if(r.isFollowUp)return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},o.createElement(tn.a,{children:r.markdownContent,options:en})));var a=o.createElement(m.N,{className:t.header,variant:"h6",color:"inherit"},o.createElement(M.b,{id:"slides.neverever.title"})),i=Object(nn.b)({opacity:1,transform:"rotate(0deg)",from:{opacity:0,transform:"rotate(20deg)"}});return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement(nn.a.div,{style:i,className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement("div",{style:{position:"relative"}},o.createElement(m.N,{style:{marginTop:20},color:"inherit",variant:"subtitle1"},o.createElement(M.b,{id:"slides.neverever.instruction",data:{sips:r.sips}})))))}),pa=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"NeverEverCard","NeverEverSlide"))).backgroundColor=na.neverEver,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(fa,null)}},{key:"initializeState",value:function(e,t,n,r){return{markdownContent:e,sips:r.getSips(2),isFollowUp:!1}}},{key:"selectText",value:function(e,n){return"..."+Object(er.a)(Object(O.a)(t.prototype),"selectText",this).call(this,e,n)}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e,sips:0,isFollowUp:!0}}}]),t}(Zr),ga={nextSlide:ie.request};var va=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},ga),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:cn(e)})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});if(r.isFollowUp)return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},o.createElement(tn.a,{children:r.markdownContent,options:en})));var a=o.createElement(m.N,{className:t.header,variant:"h6",color:"inherit"},o.createElement(M.b,{id:"slides.wouldyourather.title"}));return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement("div",{style:{position:"relative"}},o.createElement(m.N,{style:{marginTop:20},color:"inherit",variant:"subtitle1"},o.createElement(M.b,{id:"slides.wouldyourather.instruction",data:{sips:r.sips}})))))}),ba=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"WyrCard","WouldYouRatherSlide"))).backgroundColor=na.wouldYouRather,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(va,null)}},{key:"selectText",value:function(e,n){return"..."+Object(er.a)(Object(O.a)(t.prototype),"selectText",this).call(this,e,n)}},{key:"initializeState",value:function(e,t,n,r){return{markdownContent:e,sips:r.getSips(2),isFollowUp:!1}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e,sips:0,isFollowUp:!0}}}]),t}(Zr),ya={nextSlide:ie.request};var wa=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},ya),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e)})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;return null===r?o.createElement("div",{className:t.root}):o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},o.createElement(tn.a,{children:r.markdownContent,options:en})))}),Ea=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"DrinkCard","DrinkSlide"))).backgroundColor=na.drink,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(wa,null)}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(Zr),Oa={nextSlide:ie.request};var ja=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},Oa),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:Object(d.a)({},on(e),{marginBottom:10}),hidden:{visibility:"hidden"}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});var a=o.createElement(m.N,{className:t.header,variant:"h3",color:"inherit"},o.createElement(M.b,{id:"slides.virus.title"}));return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement("div",{className:t.hidden},a)))}),ka=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"VirusCard","VirusSlide"))).backgroundColor=na.virus,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(ja,null)}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(Zr),Sa={nextSlide:ie.request};var Ca=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},Sa),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e)})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;return null===r?o.createElement("div",{className:t.root}):o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},o.createElement(tn.a,{children:r.markdownContent,options:en})))}),xa=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"NoIdeaLosesCard","NoIdeaLosesSlide"))).backgroundColor=na.noIdeaLoses,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(Ca,null)}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(Zr),Na={nextSlide:ie.request};var Ta=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},Na),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:Object(d.a)({},on(e),{marginBottom:10}),hidden:{visibility:"hidden"}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});var a=o.createElement(m.N,{className:t.header,variant:"h3",color:"inherit"},o.createElement(M.b,{id:"slides.groupgame.title"}));return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement("div",{className:t.hidden},a)))}),Pa=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"GroupGameCard","GroupGameSlide"))).backgroundColor=na.groupGame,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(Ta,null)}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(Zr),Aa={nextSlide:ie.request};var Fa=Object(b.d)(Object(u.b)(function(e){return{state:e.game.slideState}},Aa),Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),header:Object(d.a)({},on(e),{marginBottom:10}),hidden:{visibility:"hidden"}})}),M.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return o.createElement("div",{className:t.root});var a=o.createElement(m.N,{className:t.header,variant:"h3",color:"inherit"},o.createElement(M.b,{id:"slides.task.title"}));return o.createElement("div",{className:t.root,onClick:function(){return n(an(e))}},o.createElement("div",{className:t.content},a,o.createElement(tn.a,{children:r.markdownContent,options:en}),o.createElement(m.N,{style:{opacity:.8,marginTop:10},color:"inherit"},o.createElement(M.b,{id:"slides.task.instruction"})),o.createElement("div",{className:t.hidden},a)))}),Da=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,"TaskCard","TaskSlide"))).backgroundColor=na.task,n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.createElement(Fa,null)}},{key:"selectText",value:function(e,n){var r=Object(er.a)(Object(O.a)(t.prototype),"selectText",this).call(this,e,n);return/[A-Z-a-z]$/g.test(r)&&(r+="."),"[Player99]: "+r}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(Zr);var Wa=Object(U.a)(Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:"transparent",height:"100%",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},content:ln(e),button:{minWidth:200}})})(function(e){var t=e.history,n=e.classes;return c.a.createElement("div",{className:n.root},c.a.createElement("div",{className:n.content},c.a.createElement(m.N,{color:"inherit",variant:"h2",gutterBottom:!0},c.a.createElement(M.b,{id:"slides.gamefinished.title"})),c.a.createElement(m.m,{className:n.button,variant:"extended",color:"primary",onClick:function(){return t.push("/")}},c.a.createElement(M.b,{id:"slides.gamefinished.goBack"}))))})),Ia={DownSlide:ca,FactSlide:ha,NeverEverSlide:pa,TruthOrDareSlide:ia,WouldYouRatherSlide:ba,DrinkSlide:Ea,VirusSlide:ka,NoIdeaLosesSlide:xa,GroupGameSlide:Pa,TaskSlide:Da,OpeningSlide:mn,GameFinishedSlide:function(){function e(){Object(y.a)(this,e),this.slideType="GameFinishedSlide",this.requiredCards=[],this.backgroundColor="#000000"}return Object(w.a)(e,[{key:"initialize",value:function(){return[oe({state:{},insights:null})]}},{key:"initializeFollowUp",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){return c.a.createElement(Wa,null)}}]),e}()};var La=function(e){return e.pipe(Object(Fr.a)(Object(ne.isActionOf)(ie.request)),Object(Dr.a)(function(e){return Ar.a.apply(void 0,Object(Bn.a)(function(e){var t=new Date,n=Za.getState(),r=n.game.followUp.filter(function(e){return e.due<t});if(r.length>0){var a=_.a.sortBy(r,function(e){return e.due.getSeconds()})[0],i=Ia[a.slideType],l=new i(e),o=l.initializeFollowUp(a.selectedCard,a.param);return[se(a)].concat(Object(Bn.a)(o))}var c=ti(n),s=function(e){var t=new Array;for(var n in e)if(e.hasOwnProperty(n)){var r=new(0,e[n])({languageCode:"en",translate:function(){return""}});t.push({slideType:r.slideType,requestedCards:r.requiredCards})}return t}(Ia),u=c.recomputeWillPower(n.game.willPowerMemory),h=u.willPower,m=u.memory,f=new Array;h!==n.game.currentWillPower&&(n.game.isWillPowerLocked||(f.push(de(h)),n=Object(d.a)({},n,{game:Object(d.a)({},n.game,{currentWillPower:h})}),c=ti(n)));m.length>0&&f.push(he(m));var p=c.selectNextSlide(s);void 0===p&&(p="GameFinishedSlide");var g=new(0,Ia[p])(e).initialize();return[ie.success({slide:p,insights:c.insights.slideWeights})].concat(Object(Bn.a)(g),f)}(e.payload)))}))},Ra=function(e){return e.pipe(Object(Fr.a)(Object(ne.isActionOf)(re)),Object(Lr.a)(function(e){return e.payload.push("/play/game")}),Object(Rr.a)())};var za=function e(t,n){Object(y.a)(this,e),this.p1=t,this.p2=n},Ma=function(e,t){return e.pipe(Object(Fr.a)(Object(ne.isActionOf)(ye)),Object(Dr.a)(function(e){var n=[],r=function(r){if(At.hasOwnProperty(r)){var a=At[r];if(e.payload.name.toUpperCase()==r.toUpperCase()){var i=!0,l=!1,o=void 0;try{for(var c,s=function(){var r=c.value,a=t.value.play.players.find(function(e){return e.name.toUpperCase()===r.toUpperCase()});if(void 0===a)return"continue";n.push(new za(a.id,e.payload.id))},u=a[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)s()}catch(h){l=!0,o=h}finally{try{i||null==u.return||u.return()}finally{if(l)throw o}}}var d=t.value.play.players.find(function(e){return e.name.toUpperCase()===r.toUpperCase()});if(void 0!==d)void 0!==a.find(function(t){return t.toUpperCase()===e.payload.name.toUpperCase()})&&n.push(new za(e.payload.id,d.id))}};for(var a in At)r(a);for(var i=new Array,l=function(){var e=n[o];if(void 0!==t.value.play.arrangements.find(function(t){return t.p1===e.p1||t.p2===e.p2||t.p1===e.p2||t.p2===e.p1}))return"continue";i.push(Oe(e))},o=0;o<n.length;o++)l();return Ar.a.apply(void 0,i)}))},Ua=Tr.a.apply(void 0,Object(Bn.a)(Object.values(a)).concat(Object(Bn.a)(Object.values(i)),Object(Bn.a)(Object.values(l)))),Ga=b.d,Ba=Object(b.c)({cardsHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(le):return[t.payload].concat(Object(Bn.a)(e));case Object(ne.getType)(re):return[];default:return e}},slidesHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ie.success):return[t.payload.slide].concat(Object(Bn.a)(e));case Object(ne.getType)(re):return[];default:return e}},isStarted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Object(ne.getType)(re):return!0;case Object(ne.getType)(ae):return!1;default:return e}},selectedCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(le):return t.payload;case Object(ne.getType)(ie.success):return null;case Object(ne.getType)(se):return t.payload.selectedCard;case Object(ne.getType)(re):return null;default:return e}},selectedSlide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ie.success):return t.payload.slide;case Object(ne.getType)(se):return t.payload.slideType;case Object(ne.getType)(re):return null;default:return e}},slideState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ie.success):case Object(ne.getType)(se):case Object(ne.getType)(re):return null;case Object(ne.getType)(oe):return t.payload.state;default:return e}},followUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ce):return[].concat(Object(Bn.a)(e),[t.payload]);case Object(ne.getType)(se):return e.filter(function(e){return e.due!==t.payload.due});case Object(ne.getType)(re):return[];default:return e}},activeFollowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ie.success):return null;case Object(ne.getType)(se):return t.payload;case Object(ne.getType)(re):return null;default:return e}},startTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(arguments.length>1?arguments[1]:void 0).type===Object(ne.getType)(re)?new Date:e},isWillPowerLocked:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ue):return t.payload;case Object(ne.getType)(re):return!1;default:return e}},currentWillPower:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(de):return t.payload;case Object(ne.getType)(re):return 1;default:return e}},willPowerMemory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(he):return[].concat(Object(Bn.a)(e),Object(Bn.a)(t.payload));case Object(ne.getType)(re):return[];default:return e}},playerInsights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(oe):return t.payload.insights;case Object(ne.getType)(re):return null;default:return e}},slideInsights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ie.success):return t.payload.insights;case Object(ne.getType)(re):return null;default:return e}},currentSlideStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case Object(ne.getType)(ie.success):return be()();case Object(ne.getType)(re):return"";default:return e}}}),_a=Object(b.c)({sources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(rt):return[].concat(Object(Bn.a)(e),[t.payload]);case Object(ne.getType)(at):return e.filter(function(e){return e.url!==t.payload});case Object(ne.getType)(it.request):return e.map(function(e){return e.url===t.payload?Object(d.a)({},e,{isLoading:!0}):e});case Object(ne.getType)(it.success):return e.map(function(e){return e.url===t.payload.url?Object(d.a)({},e,{cards:t.payload.cards,errorMessage:null,isLoading:!1,tags:_.a.uniq(_.a.flatten(t.payload.cards.map(function(e){return e.tags})).map(function(e){return e.toLowerCase()}))}):e});case Object(ne.getType)(it.failure):return e.map(function(e){return e.url===t.payload.url?Object(d.a)({},e,{isLoading:!1,errorMessage:t.payload.message}):e});case Object(ne.getType)(lt):return e.map(function(e){return e.url===t.payload.value?Object(d.a)({},e,{weight:t.payload.weight}):e});default:return e}},preferOppositeGenders:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Object(ne.getType)(ot)?t.payload:e},slides:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(st):return e.map(function(e){return e.value===t.payload.value?t.payload:e});case Object(ne.getType)(dt):return qa();default:return e}},socialMediaPlatform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Snapchat",t=arguments.length>1?arguments[1]:void 0;return t.type===Object(ne.getType)(ct)?t.payload:e},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ut):var n=t.payload.value.toLowerCase();return void 0!==e.find(function(e){return e.value===n})?e.map(function(e){return e.value===n?{value:n,weight:t.payload.weight}:e}):[].concat(Object(Bn.a)(e),[t.payload]);case Object(ne.getType)(dt):return e.map(function(e){return Object(d.a)({},e,{weight:.5})});default:return e}}});function qa(){var e=[];for(var t in Tt)if(Tt.hasOwnProperty(t)){var n=Tt[t];e.push({value:t,weight:n})}return e}var Ha,Ka=Object(b.c)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(ye):return[].concat(Object(Bn.a)(e),[t.payload]);case Object(ne.getType)(Ee):return e.filter(function(e){return e.id!==t.payload});case Object(ne.getType)(we):return e.map(function(e){return e.id===t.payload.id?t.payload:e});default:return e}},arrangements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(ne.getType)(Oe):return[].concat(Object(Bn.a)(e),[t.payload]);case Object(ne.getType)(je):return e.filter(function(e){return e.p1!==t.payload});case Object(ne.getType)(Ee):return e.filter(function(e){return e.p1!==t.payload&&e.p2!==t.payload});default:return e}}}),Va=Object(b.c)({play:Ka,game:Ba,settings:_a,localize:M.d}),$a=Object(Jn.a)({dependencies:Nr}),Ya=[$a],Ja=Ga(b.a.apply(void 0,Ya)),Qa=function(){var e=localStorage.getItem("settingsState");return{settings:null!==e?JSON.parse(e):{}}}(),Xa=Object(b.e)(Va,Qa,Ja);(Ha=Xa).subscribe(function(){var e=Ha.getState(),t=Object(d.a)({},e.settings,{sources:e.settings.sources.map(function(e){return{url:e.url,weight:e.weight,isLoading:!1,cards:null,errorMessage:null,tags:[]}})});localStorage.setItem("settingsState",JSON.stringify(t))}),$a.run(Ua);var Za=Xa;function ei(e,t,n,r){return e.selectPlayers(t.map(function(e){return e.gender}),t.map(function(e){var t=n.find(function(t){return t.index===e.playerIndex});return void 0===t?null:t.player}),r).map(function(e,n){return{index:t[n].playerIndex,player:e}})}function ti(e){void 0===e&&(e=Za.getState());var t=Yn()();return new Vn(function(e){return{decks:e.settings.sources.filter(function(e){return void 0!==e.cards}).map(function(e){var t=Object(d.a)({},e,{cards:e.cards||[]});return t}),cardsHistory:e.game.cardsHistory,language:e.localize.languages.find(function(e){return e.active}).code,players:e.play.players,slides:e.settings.slides,tags:e.settings.tags,arrangements:e.play.arrangements,preferOppositeGenders:e.settings.preferOppositeGenders,slidesHistory:e.game.slidesHistory,startTime:e.game.startTime,willPower:e.game.currentWillPower}}(e),t)}var ni=Object(h.createStyles)({chart:{width:200,height:300}}),ri=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={selectedCardType:null},n.setSelectedCardType=function(e){n.setState({selectedCardType:""===e?null:e})},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.translate,r=t.currentWillPower,a=this.state.selectedCardType,i=[""].concat(Object(Bn.a)(Object.keys(jr))),l=ti().getAllCardDeckStatistics(a),o=It(l.decks,function(e){return e.weight},1e3).map(function(e){return{value:e.part/10,name:e.value.value.url}}),s=It(l.willPower,function(e){return e.weight},1e3).map(function(e){return{value:e.part/10,name:e.value.value.willPower||n("insights.universal"),info:e.value.value}});return c.a.createElement("div",null,c.a.createElement(m.N,{variant:"h5"},c.a.createElement(M.b,{id:"insights.cardsDist"})),c.a.createElement(m.r,{container:!0,alignItems:"flex-end",spacing:16},c.a.createElement(m.r,{item:!0},c.a.createElement(m.o,null,c.a.createElement(m.G,{style:{width:200,marginTop:10},value:a||"",displayEmpty:!0,renderValue:function(e){return e||n("insights.allCards")},onChange:function(t){return e.setSelectedCardType(t.target.value)},input:c.a.createElement(m.v,null)},i.map(function(e){return c.a.createElement(m.E,{key:e,value:e},e||n("insights.allCards"))})))),c.a.createElement(m.r,{item:!0},c.a.createElement(m.N,null,"".concat(n("insights.cards"),": ").concat(l.totalCards)))),c.a.createElement(_n.e,{width:"100%",height:200},c.a.createElement(_n.b,{data:o},c.a.createElement(_n.c,null),c.a.createElement(_n.g,{dataKey:"name",tickFormatter:function(e){return(n=18)>(t=e).length?t:".."+t.substring(t.length-n-2,t.length);var t,n}}),c.a.createElement(_n.h,{tickFormatter:function(e){return e+"%"}}),c.a.createElement(_n.f,{formatter:function(e){return e+"%"},labelFormatter:function(e){return n("insights.cardDeckName",{url:e,cards:l.decks.find(function(t){return t.value.url===e}).value.cards.length})}}),c.a.createElement(_n.a,{name:n("insights.part"),dataKey:"value",fill:"#8884d8",maxBarSize:20}))),c.a.createElement(m.N,{variant:"h5"},c.a.createElement(M.b,{id:"insights.willPowerDist"})),c.a.createElement(_n.e,{width:"100%",height:200},c.a.createElement(_n.b,{data:s},c.a.createElement(_n.c,null),c.a.createElement(_n.g,{dataKey:"name"}),c.a.createElement(_n.h,{tickFormatter:function(e){return e+"%"}}),c.a.createElement(_n.f,{formatter:function(e,t,r){return"".concat(e,"% (").concat(r.payload.info.count," ").concat(n("insights.cards"),")")}}),c.a.createElement(_n.a,{dataKey:"value",maxBarSize:20,name:n("insights.part")},s.map(function(e,t){return c.a.createElement(_n.d,{fill:e.info.willPower===r?"#e74c3c":"#8884d8",key:t})})))))}}]),t}(o.Component),ai=Object(b.d)(Object(u.b)(function(e){return{currentWillPower:e.game.currentWillPower}}),Object(h.withStyles)(ni),M.e)(ri),ii=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return c.a.createElement(m.r,{container:!0},c.a.createElement(m.r,{item:!0,xs:12},c.a.createElement(Gn,null)),c.a.createElement(m.r,{item:!0,xs:12,style:{marginTop:10}},c.a.createElement(zn,null)),c.a.createElement(m.r,{item:!0,xs:12,style:{marginTop:20}},c.a.createElement(ai,null)))}}]),t}(o.Component);function li(e){return c.a.createElement(m.H,Object.assign({direction:"up"},e))}var oi=Object(b.d)(Qe()({breakpoint:"sm"}),Object(h.withStyles)(function(e){return Object(h.createStyles)({appBar:{position:"relative"},flex:{flex:1},content:{flexGrow:1,margin:e.spacing.unit,overflowY:"auto",overflowX:"hidden"}})}),M.e,U.a)(function(e){var t=e.fullScreen,n=e.classes,r=e.history;return c.a.createElement("div",null,c.a.createElement(Ye.a,{fullScreen:t,open:!0,onClose:function(){return r.goBack()},TransitionComponent:li,fullWidth:!0,maxWidth:"md"},c.a.createElement(m.a,{className:n.appBar},c.a.createElement(m.M,null,c.a.createElement(m.N,{variant:"h6",color:"inherit",className:n.flex},c.a.createElement(M.b,{id:"game.options.insights"})),c.a.createElement(m.c,{color:"inherit",onClick:function(){return r.goBack()}},c.a.createElement(M.b,{id:"close"})))),c.a.createElement("div",{className:n.content},c.a.createElement(ii,null))))}),ci=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n.handleChangeIndex=function(e){n.setState({value:e})},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.translate,r=this.state.value;return o.createElement("div",{className:t.root},o.createElement(m.a,{position:"static",color:"default"},o.createElement(m.L,{value:r,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},o.createElement(m.K,{label:n("settings.players")}),o.createElement(m.K,{label:n("settings.sources")}),o.createElement(m.K,{label:n("settings.configuration")}))),0===r&&o.createElement(nt,null),1===r&&o.createElement(kt,null),2===r&&o.createElement(qt,null),o.createElement(g.a,{path:"/play/game/settings/arrangements",component:tt}))}}]),t}(o.Component),si=Object(b.d)(M.e,Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{backgroundColor:e.palette.background.paper,height:"100%",display:"flex",flexDirection:"column"},tabContainer:{display:"flex",flexDirection:"column",height:"100%"},firstChildMargins:{marginTop:24,marginLeft:24,marginRight:24},fillRemaining:{flexGrow:1,height:0}})},{withTheme:!0}))(ci);function ui(e){return c.a.createElement(m.H,Object.assign({direction:"up"},e))}var di=Object(b.d)(Qe()({breakpoint:"sm"}),Object(h.withStyles)(function(e){return Object(h.createStyles)({appBar:{position:"relative"},flex:{flex:1},content:{flexGrow:1},dialogPaper:Object(k.a)({},e.breakpoints.up("md"),{height:"80vh"})})}),M.e,U.a)(function(e){var t=e.fullScreen,n=e.classes,r=e.history;return c.a.createElement("div",null,c.a.createElement(Ye.a,{fullScreen:t,open:!0,onClose:function(){return r.goBack()},TransitionComponent:ui,fullWidth:!0,maxWidth:"md",classes:{paperScrollPaper:n.dialogPaper}},c.a.createElement(m.a,{className:n.appBar},c.a.createElement(m.M,null,c.a.createElement(m.N,{variant:"h6",color:"inherit",className:n.flex},c.a.createElement(M.b,{id:"game.options.settings"})),c.a.createElement(m.u,{color:"inherit",onClick:function(){return r.push("/play/game/settings/arrangements")}},c.a.createElement(ee.a,null)),c.a.createElement(m.c,{color:"inherit",onClick:function(){return r.goBack()}},c.a.createElement(M.b,{id:"close"})))),c.a.createElement("div",{className:n.content},c.a.createElement(si,null))))});var hi=Object(b.d)(Object(u.b)(function(e){return{selectedSlide:e.game.selectedSlide}}),M.e)(function(e){var t=e.selectedSlide;if(null===t)return c.a.createElement(m.N,{variant:"h3"},"Loading game...");var n=new(0,Ia[t])(an(e)),r=Object(nn.b)({backgroundColor:n.backgroundColor,height:"100%"});return c.a.createElement(nn.a.div,{style:r},n.render())}),mi=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){if(null===this.props.selectedSlide){var e=new mn,t=e.initialize();this.props.dispatch(ie.success({slide:e.slideType,insights:null}));var n=!0,r=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var o=i.value;this.props.dispatch(o)}}catch(c){r=!0,a=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}}}},{key:"render",value:function(){return c.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"}},c.a.createElement(hi,null),c.a.createElement("div",{style:{top:10,right:10,position:"absolute",zIndex:100}},c.a.createElement(Dn,null)),c.a.createElement(p.a,null,c.a.createElement(g.a,{path:"/play/game/settings",component:di}),c.a.createElement(g.a,{path:"/play/game/insights",component:oi})))}}]),t}(o.Component),fi=Object(b.d)(Ve.a,Object(u.b)(function(e){return{current:e.game.currentSlideStatus,selectedSlide:e.game.selectedSlide}}),M.e)(mi),pi=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={isLoadingLang:null,content:null},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"getLang",value:function(){var e=this.props,t=e.history,n=e.activeLanguage,r=e.game;if(t.location.pathname!=="/drinkingGames/".concat(r.name))return null;var a=void 0===n?null:n.code;return(r.translations.find(function(e){return e.lang===a})||r.translations.find(function(e){return"en"===e.lang})||r.translations[0]).lang}},{key:"render",value:function(){var e=this,t=this.state,n=t.content,r=t.isLoadingLang,a=this.props,i=a.game,l=a.classes,o=this.getLang();return null===o?null:null!==n&&r===o?c.a.createElement(m.F,{className:l.paper},c.a.createElement(tn.a,{children:n,options:Zt})):(r!==o&&Xn.a.get("".concat("/Drinctet","/explanations/").concat(i.name,".").concat(o,".md")).then(function(t){var n=e.getLang();n===o&&e.setState({content:t.data,isLoadingLang:n})}),c.a.createElement(m.n,{in:!0,style:{transitionDelay:"800ms",margin:20},unmountOnExit:!0},c.a.createElement(m.h,null)))}}]),t}(c.a.Component),gi=Object(Ve.a)(Object(M.e)(Object(h.withStyles)(function(e){return Object(h.createStyles)({paper:Object(d.a)({},e.mixins.gutters(),{padding:2*e.spacing.unit,margin:2*e.spacing.unit,maxWidth:800})})})(pi)));function vi(){return c.a.createElement("div",null,G.map(function(e){return c.a.createElement(gi,{key:e.name,game:e})}))}var bi=Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{margin:2*e.spacing.unit,maxWidth:100*e.spacing.unit},header:{marginTop:2*e.spacing.unit}})})(function(e){var t=e.classes;return c.a.createElement("div",{className:t.root},c.a.createElement(m.r,{container:!0},c.a.createElement(m.r,{item:!0,xs:12},c.a.createElement(m.d,null,c.a.createElement(m.e,null,c.a.createElement(m.N,{color:"textSecondary",variant:"subtitle2"},c.a.createElement(M.b,{id:"about.title"})),c.a.createElement(m.N,{variant:"h5",component:"h2"},"Drinctet - Drink That!"),c.a.createElement(m.N,{gutterBottom:!0},c.a.createElement(M.b,{id:"about.aboutText"})),c.a.createElement(m.N,{variant:"h6",className:t.header},c.a.createElement(M.b,{id:"about.installation"})),c.a.createElement(m.N,{gutterBottom:!0},c.a.createElement(M.b,{id:"about.installationText"})),c.a.createElement(m.N,{variant:"h6",className:t.header},c.a.createElement(M.b,{id:"about.version"})),c.a.createElement(m.N,{inline:!0},"8cec35c"),c.a.createElement(m.N,{inline:!0,color:"textSecondary"},"(HEAD -> master, origin/master, origin/HEAD) at 2019-04-06 13:20:42 +0200"))))))});var yi=Object(b.d)(Object(u.b)(function(e){return{isStarted:e.game.isStarted}}),Object(h.withStyles)(function(e){return Object(h.createStyles)({menuButton:{marginLeft:-12,marginRight:20},grow:{flexGrow:1},root:{height:"100%",display:"flex"},content:{flexGrow:1,display:"flex",flexFlow:"column"},toolbar:Object(d.a)({},e.mixins.toolbar,{flex:"0 1 auto"})})},{withTheme:!0}))(function(e){var t=e.classes,n=e.isStarted;return c.a.createElement(f.a,{basename:"/Drinctet"},c.a.createElement("div",{className:t.root},c.a.createElement(p.a,null,c.a.createElement(g.a,{path:"/play/game",render:function(){return n?c.a.createElement(fi,null):c.a.createElement(v.a,{to:"/play"})}}),c.a.createElement(g.a,{path:"/",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.j,null),c.a.createElement(ge,null),c.a.createElement("main",{className:t.content},c.a.createElement("div",{className:t.toolbar}),c.a.createElement("div",{style:{flex:"1 1 auto"}},c.a.createElement(p.a,null,c.a.createElement(g.a,{exact:!0,path:"/",render:function(){return c.a.createElement(v.a,{to:"/play"})}}),c.a.createElement(g.a,{path:"/play",component:nt}),c.a.createElement(g.a,{path:"/sources",component:kt}),c.a.createElement(g.a,{path:"/configuration",component:qt}),c.a.createElement(g.a,{path:"/drinkingGames",component:vi}),c.a.createElement(g.a,{path:"/about",component:bi})))))}}))))}),wi=(n(835),n(836),n(371)),Ei=n(372),Oi=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ji(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ki=Za.getState();if(0===ki.settings.sources.length){var Si=!0,Ci=!1,xi=void 0;try{for(var Ni,Ti=["cards/Bevil.xml","cards/bullshitfact.xml","cards/common.xml","cards/ConversationStartersWorld.FunnyQuestions.xml","cards/ConversationStartersWorld.NeverHaveIEver.xml","cards/ConversationStartersWorld.TruthOrDareDare.xml","cards/ConversationStartersWorld.TruthOrDareTruth.xml","cards/ConversationStartersWorld.Wyr.xml","cards/ichundderalkohol.xml","cards/picolo/Picolo.xml","cards/picolo/Picolo.Silly.xml","cards/realfacts.xml"][Symbol.iterator]();!(Si=(Ni=Ti.next()).done);Si=!0){var Pi=Ni.value,Ai="".concat("/Drinctet","/").concat(Pi);Za.dispatch(rt(Ai)),Za.dispatch(it.request(Ai))}}catch(Mi){Ci=!0,xi=Mi}finally{try{Si||null==Ti.return||Ti.return()}finally{if(Ci)throw xi}}}else{var Fi=!0,Di=!1,Wi=void 0;try{for(var Ii,Li=ki.settings.sources[Symbol.iterator]();!(Fi=(Ii=Li.next()).done);Fi=!0){var Ri=Ii.value;Za.dispatch(it.request(Ri.url))}}catch(Mi){Di=!0,Wi=Mi}finally{try{Fi||null==Li.return||Li.return()}finally{if(Di)throw Wi}}}var zi=(navigator.language||navigator.userLanguage||"en").split("-")[0];Za.dispatch(Object(M.c)({languages:[{code:"en",name:"English"},{code:"de",name:"Deutsch"}],translation:wi,options:{renderToStaticMarkup:Ei.renderToStaticMarkup,defaultLanguage:zi}}));Object(s.render)(o.createElement(function(){return o.createElement("div",{style:{height:"100%"}},o.createElement(u.a,{store:Za},o.createElement(M.a,{store:Za},o.createElement(yi,null))))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Drinctet",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Drinctet","/service-worker.js");Oi?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ji(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ji(t,e)})}}()}},[[455,1,2]]]);
//# sourceMappingURL=main.e179f44b.chunk.js.map