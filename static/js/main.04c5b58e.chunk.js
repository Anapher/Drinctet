(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{354:function(e){e.exports={settings:{players:["Players","Spieler"],"players.playerName":["Player name","Spielername"],sources:["Cards","Karten"],"sources.sourceUrl":["Source url","Quellen Url"],configuration:["Configuration","Konfiguration"]},"settings.configuration":{language:["Language","Sprache"],playerSettings:["Players","Spieler"],"playerSettings.pairOppositeGenders":["Pair opposite genders more likely","Spieler mit unterschiedlichen Geschlechtern h\xe4ufiger paaren."],arrangements:["Set ups","Verkuppeln"],"arrangements.description":["Set up players are selected together with a higher probability.","Verkuppelte Spieler werden mit einer h\xf6heren Wahrscheinlichkeit zusammen ausgew\xe4hlt."],"arrangements.pairWith":["Set up with","Verkuppeln mit"],"arrangements.none":["None","Keine"],socialMediaPlatform:["Social Media Platform","Soziales Netzwerk"],"socialMediaPlatform.description":["The social media platform your group mainly uses.","Das soziale Netzwerk, welches deine Gruppe haupts\xe4chlich nutzt."],slides:["Slides","Slides"],slidesProjection:["When you take ${count} slides, you get ","Bei ${count} Slides hat man von "],tags:["Tags","Tags"],"tags.none":["None of your cards have tags.","Keine deiner Karten hat Tags."]},add:["Add","Hinzuf\xfcgen"],welcome:{startGame:["Start Game","Spiel starten"]},game:{textFormatter:{sips:["sips","Schlucke"],oneSip:["one sip","einen Schluck"]},options:{settings:["Settings","Einstellungen"],insights:["Insights","Insights"],reportCard:["Report card","Karte melden"]},close:["Close","Schlie\xdfen"]},insights:{willPower:["WillPower","\xdcberzeugungskraft"],lockWillPower:["Lock value","Wert sperren"],slide:["Slide","Slide"],currentSlide:["Current Slide","Aktuelle Slide"],name:["Name","Name"],playerSelection:["Player Selection","Spielerauswahl"],predefinedPlayers:["Predefined players","Vordefinierte Spieler"],player:["Player ${number}","Spieler ${number}"],noPlayers:["No players selected","Keine Spieler ausgew\xe4hlt"],playerRemoved:["Removed","Gel\xf6scht"],cardsDist:["Cards Distribution","Kartenverteilung"],willPowerDist:["WillPower Distribution","\xdcberzeugungskraft Verteilung"],cardDeckName:["${url} (cards: ${cards})","${url} (Karten: ${cards})"],part:["Part","Anteil"],universal:["Universal","Universell"],currentCard:["Current card","Aktuelle Karte"],noCard:["No card chosen","Keine Karte ausgew\xe4hlt"],cardInfo:["${name} (ID: ${id}, WillPower: ${wp})","${id} (ID: ${id}, \xdcberzeugungskraft: ${wp})"]},slides:{fact:{title:["Fact?","Fakt?"],"title.follow":["Fact!","Fakt!"],singleplayer:["[Player], decide if the following statement is true or false:","[Player], entscheide, ob folgende Aussage wahr oder falsch ist:"],multiplayer:["[Player1] and [Player2], decide together the correctness of the following statement:","[Player1], entscheide mit [Player2] zusammen, ob folgende Aussage wahr ist:"],"singleplayer.true":["[Player], drink [sips] if you thought the fact was wrong.","[Player], trinke [sips], wenn du dachtest, dass der Fakt falsch war. Ansonsten verteil sie."],"singleplayer.false":["[Player], drink [sips] if you thought the fact was right.","[Player], trinke [sips], wenn du dachtest, dass der Fakt richtig war. Ansonsten verteil sie."],"multiplayer.true":["[Player1] and [Player2], drink both [sips] if your thought the fact was wrong.","[Player1] und [Player2], trinkt jeweils [sips], wenn ihr dachtet, der Fakt sei falsch. Ansonsten verteilt sie."],"multiplayer.false":["[Player1] and [Player2], drink both [sips] if your thought the fact was right.","[Player1] und [Player2], trinkt jeweils [sips], wenn ihr dachtet, der Fakt sei richtig. Ansonsten verteilt sie."]},down:{title:["Down it!","Auf Ex'"]},neverever:{title:["Never have I ever...","Ich habe noch nie..."],instruction:["Everybody who's already done that drinks ${sips} sips.","Jeder, der es schonmal gemacht hat, trinkt ${sips} Schlucke."]},truthordare:{playerTruthordare:["${name}, truth or dare?","${name}, Wahrheit oder Pflicht?"],truth:["Truth","Wahrheit"],dare:["Dare","Pflicht"],instruction:["Alright [Player99]:","Okay [Player99]:"],or:["or","oder"]}}}},447:function(e,t,n){e.exports=n(838)},814:function(e,t){},835:function(e,t){Object({NODE_ENV:"production",PUBLIC_URL:"/drinctet"}).LOCAL_STORAGE_VERSION=1},836:function(e,t,n){},838:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loadCards",function(){return jn});var a={};n.r(a),n.d(a,"loadSourceEpic",function(){return In});var i={};n.r(i),n.d(i,"nextSlideEpic",function(){return vr}),n.d(i,"redirectOnGameStartedEpic",function(){return yr});var l=n(1),c=n.n(l),o=n(42),s=n(20),u=(n(19),n(456),n(849)),d=n(850),h=n(844),f=n(848),m=n(5),p=n(13),g=n(10),v=n(8),y=n(9),b=n(78),w=n(48),O=n(4),E=n(328),j=n.n(E),k=n(329),S=n.n(k),C=n(11),x=Object(C.createStandardAction)("ADD_PLAYER").map(function(e){return{payload:{name:e.name,gender:e.gender,id:S()()}}}),T=Object(C.createStandardAction)("UPDATE_PLAYER")(),P=Object(C.createStandardAction)("REMOVE_PLAYER")(),N=Object(C.createStandardAction)("ADD_SOURCE").map(function(e){return{payload:{url:e,isLoading:!1,errorMessage:void 0,cards:void 0,weight:.5,tags:[]}}}),A=Object(C.createStandardAction)("REMOVE_SOURCE")(),F=Object(C.createAsyncAction)("LOAD_SOURCE_REQUEST","LOAD_SOURCE_SUCCESS","LOAD_SOURCE_FAILURE")(),I=Object(C.createStandardAction)("SET_SOURCE_WEIGHT")(),D=Object(C.createStandardAction)("SET_PREFER_OPPOSITE_GENDERS")(),R=Object(C.createStandardAction)("ADD_PLAYER_ARRANGEMENT")(),L=Object(C.createStandardAction)("REMOVE_PLAYER_ARRANGEMENT")(),W=Object(C.createStandardAction)("SET_SOCIAL_MEDIA_PLATFORM")(),M=Object(C.createStandardAction)("SET_SLIDE_WEIGHT")(),U=Object(C.createStandardAction)("SET_TAG_WEIGHT")(),_=n(100),z=n.n(_),G=n(52),B=n.n(G),q=n(6),H={addPlayer:x},K=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={name:""},n.handlePlayerNameChange=function(e){n.setState({name:e.currentTarget.value})},n.handleAddClick=function(){var e="Male";n.state.name.endsWith("a")&&(e="Female"),n.props.addPlayer({name:n.state.name,gender:e}),n.setState({name:""})},n.handleFormKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),n.state.name&&n.handleAddClick())},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.name,t=this.props.translate;return l.createElement("form",{onKeyDown:this.handleFormKeyDown},l.createElement("div",{style:{display:"flex"}},l.createElement(B.a,{style:{flexGrow:1},type:"text",value:e,placeholder:t("settings.players.playerName"),onChange:this.handlePlayerNameChange}),l.createElement(z.a,{style:{marginLeft:5},disabled:!e,onClick:this.handleAddClick},l.createElement(q.b,{id:"add"}))))}}]),t}(l.Component),$=Object(s.b)(null,H)(Object(q.e)(K)),V=n(76),Q=n.n(V),Y=n(77),J=n.n(Y),X=function e(t,n,r){Object(m.a)(this,e),this.id=t,this.name=n,this.gender=r},Z=function(e){return e.players},ee=function(e){return e.sources},te=n(35),ne=n(69),re=n.n(ne),ae=n(146),ie=n.n(ae),le=n(331),ce=n(220),oe=function(){return{margin:-10,width:48,height:48}};var se=function(e){var t=e.name,n=e.gender,r=e.onRemoveClick,a=e.onSwapGenderClick,i=e.onNameChanged;return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(re.a,{"aria-label":"Swap Gender",onClick:a,style:Object(te.a)({},oe(),{marginRight:0})},c.a.createElement(O.l,null,c.a.createElement(le.a,{icon:"Male"===n?ce.a:ce.b}))),c.a.createElement(B.a,{error:!t,onBlur:function(){t||r()},style:{flexGrow:1,marginLeft:5,marginRight:5},placeholder:"Will be removed!",value:t,onChange:function(e){return i(e.currentTarget.value)}}),c.a.createElement(re.a,{"aria-label":"Delete",onClick:r,style:Object(te.a)({},oe(),{marginLeft:0}),tabIndex:-1},c.a.createElement(ie.a,{fontSize:"default"})))},ue={removePlayer:P,updatePlayer:T};var de=Object(s.b)(function(e){return{players:Z(e.settings)}},ue)(function(e){var t=e.players,n=e.removePlayer,r=e.updatePlayer;return l.createElement(Q.a,null,t.map(function(e){return l.createElement(J.a,{key:e.id},l.createElement(O.s,null,l.createElement(se,{name:e.name,gender:e.gender,onRemoveClick:function(){return n(e.id)},onNameChanged:function(t){return r(new X(e.id,t,e.gender))},onSwapGenderClick:function(){return r(new X(e.id,e.name,"Female"===e.gender?"Male":"Female"))}})))}))}),he={addSource:N,loadSource:F.request},fe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={url:""},n.handleUrlChange=function(e){n.setState({url:e.currentTarget.value})},n.handleAddClick=function(){!n.state.url||n.props.sources.findIndex(function(e){return e.url===n.state.url})>-1||(n.props.addSource(n.state.url),n.props.loadSource(n.state.url),n.setState({url:""}))},n.handleFormKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),n.state.url&&n.handleAddClick())},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.url,n=this.props.translate,r=this.props.sources.findIndex(function(t){return t.url===e.state.url})>-1;return l.createElement("form",{onKeyDown:this.handleFormKeyDown},l.createElement("div",{style:{display:"flex"}},l.createElement(B.a,{style:{flexGrow:1},type:"text",value:t,placeholder:n("settings.sources.sourceUrl"),error:r,onChange:this.handleUrlChange}),l.createElement(z.a,{style:{marginLeft:5},disabled:!t||r,onClick:this.handleAddClick},l.createElement(q.b,{id:"add"}))))}}]),t}(l.Component),me=Object(s.b)(function(e){return{sources:ee(e.settings)}},he)(Object(q.e)(fe)),pe=n(79);function ge(){return c.a.createElement(O.p,null)}function ve(e){var t=e.errorMessage,n=e.onReloadClick;return c.a.createElement(O.C,{color:"secondary",variant:"body1",component:"small"},"".concat(t),c.a.createElement(O.q,{style:{marginLeft:15},component:"button",variant:"body1",onClick:n},"Reload"))}function ye(e){var t=e.weight,n=e.onChangeWeight;return c.a.createElement(pe.a,{max:1,min:0,step:.05,style:{margin:10,padding:"4px 0px"},value:t,onChange:function(e,t){return n(t)}})}var be=Object(w.withStyles)(function(e){return Object(w.createStyles)({root:{backgroundColor:e.palette.background.paper,height:"100%"},title:{textOverflow:"elipsis",wordBreak:"break-all",overflow:"hidden"},fullWidth:{width:"100%"}})},{withTheme:!0})(function(e){var t=e.url,n=e.classes,r=e.isLoading,a=e.errorMessage,i=e.cardsCount,l=e.weight,o=e.onRemoveClick,s=e.onReloadClick,u=e.onChangeWeight;return c.a.createElement(O.b,{badgeContent:i,color:"primary",max:9999,className:n.fullWidth,showZero:!1},c.a.createElement(O.d,{className:n.fullWidth},c.a.createElement(O.e,{avatar:c.a.createElement(O.f,{checked:0!==l,style:{margin:-10},onChange:function(e,t){return u(t?.5:0)}}),titleTypographyProps:{className:n.title},title:t,action:c.a.createElement(re.a,{onClick:o},c.a.createElement(ie.a,null)),subheader:r?c.a.createElement(ge,null):a?c.a.createElement(ve,{errorMessage:a,onReloadClick:s}):c.a.createElement(ye,{weight:l,onChangeWeight:u})})))}),we={loadSource:F.request,removeSource:A,setSourceWeight:I};var Oe=Object(s.b)(function(e){return{sources:ee(e.settings)}},we)(function(e){var t=e.sources,n=e.removeSource,r=e.loadSource,a=e.setSourceWeight;return l.createElement(Q.a,null,t.map(function(e){return l.createElement(J.a,{key:e.url},l.createElement(O.s,null,l.createElement(be,{url:e.url,isLoading:e.isLoading,errorMessage:e.errorMessage,cardsCount:e.cards&&e.cards.length||0,weight:e.weight,onChangeWeight:function(t){return a({value:e.url,weight:t})},onRemoveClick:function(){return n(e.url)},onReloadClick:function(){return r(e.url)}})))}))});var Ee=Object(w.withStyles)(function(){return Object(w.createStyles)({root:{width:"100%"}})})(Object(q.e)(function(e){var t=e.activeLanguage,n=e.languages,r=e.setActiveLanguage,a=e.classes;return l.createElement(O.k,{container:!0},l.createElement(O.k,{item:!0,xs:12,sm:10,md:8,lg:6},l.createElement(O.h,{className:a.root},l.createElement(O.o,{htmlFor:"language-input"},l.createElement(q.b,{id:"settings.configuration.language"})),l.createElement(O.w,{inputProps:{id:"language-input"},style:{width:"100%"},value:t.code,onChange:function(e){return r(e.target.value)}},n.map(function(e){return l.createElement(O.u,{key:e.code,value:e.code},e.name)})))))})),je=n(41),ke={setPreferOppositeGenders:D,addPlayerArrangment:R,removePlayerArrangment:L};var Se=Object(s.b)(function(e){return{preferOppositeGenders:e.settings.preferOppositeGenders,players:e.settings.players,arrangements:e.settings.arrangements}},ke)(Object(w.withStyles)(function(e){return Object(w.createStyles)({section:{marginTop:10},arrangmentItem:{borderBottom:"1px solid #d8d8d8",paddingBottom:5},arrangementSelect:Object(je.a)({width:200},e.breakpoints.down("xs"),{width:"100%"})})})(Object(q.e)(function(e){var t=e.preferOppositeGenders,n=e.setPreferOppositeGenders,r=e.classes,a=e.players,i=e.arrangements,c=e.addPlayerArrangment,o=e.removePlayerArrangment;return l.createElement("div",null,l.createElement(O.C,{variant:"h5"},l.createElement(q.b,{id:"settings.configuration.playerSettings"})),l.createElement(O.i,{control:l.createElement(O.y,{checked:t,onChange:function(e,t){return n(t)}}),label:l.createElement(q.b,{id:"settings.configuration.playerSettings.pairOppositeGenders"})}),l.createElement(O.C,{className:r.section,variant:"subtitle2"},l.createElement(q.b,{id:"settings.configuration.arrangements"})),l.createElement(O.C,null,l.createElement(q.b,{id:"settings.configuration.arrangements.description"})),l.createElement(O.k,{container:!0},a.filter(function(e){return-1===i.findIndex(function(t){return t.p2===e.id})}).map(function(e){var t=i.find(function(t){return t.p1===e.id}),n=void 0===t?"":t.p2;return l.createElement(O.k,{item:!0,container:!0,alignItems:"flex-end",className:r.arrangmentItem,key:e.id},l.createElement(O.k,{item:!0,xs:6,lg:4},l.createElement(O.C,{variant:"subtitle1"},e.name)),l.createElement(O.k,{item:!0,xs:6,lg:4},l.createElement(O.h,{className:r.arrangementSelect},l.createElement(O.o,{htmlFor:"player-selection"},l.createElement(q.b,{id:"settings.configuration.arrangements.pairWith"})),l.createElement(O.w,{value:n,onChange:function(t){var n=t.target.value;""===n?o(e.id):c({p1:e.id,p2:n})},input:l.createElement(O.n,{id:"player-selection"})},l.createElement(O.u,{value:""},l.createElement("em",null,l.createElement(q.b,{id:"settings.configuration.arrangements.none"}))),a.filter(function(t){return t.id!==e.id&&-1===i.findIndex(function(n){return(n.p1===t.id||n.p2===t.id)&&n.p1!==e.id})}).map(function(e){return l.createElement(O.u,{key:e.id,value:e.id},e.name)})))))})))}))),Ce=["Snapchat","Instagram","Facebook"],xe={FactSlide:0,DownSlide:0,NeverEverSlide:0,TruthOrDareSlide:1},Te=["sexual"],Pe={setSocialMediaPlatform:W};var Ne=Object(s.b)(function(e){return{platform:e.settings.socialMediaPlatform}},Pe)(Object(q.e)(function(e){var t=e.platform,n=e.setSocialMediaPlatform;return l.createElement("div",null,l.createElement(O.C,{variant:"h5"},l.createElement(q.b,{id:"settings.configuration.socialMediaPlatform"})),l.createElement(O.C,{gutterBottom:!0},l.createElement(q.b,{id:"settings.configuration.socialMediaPlatform.description"})),l.createElement(O.h,null,l.createElement(O.w,{style:{width:200,marginTop:10},value:t,onChange:function(e){return n(e.target.value)},input:l.createElement(O.n,null)},Ce.map(function(e){return l.createElement(O.u,{key:e,value:e},e)}))))})),Ae=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.onChangeWeight;return l.createElement(O.k,{container:!0},t.map(function(e){return l.createElement(O.k,{key:e.value,item:!0,container:!0,alignItems:"center"},l.createElement(O.k,{item:!0,xs:4,lg:2},l.createElement(O.C,{style:{opacity:0===e.weight?.5:1}},e.value)),l.createElement(O.k,{item:!0,xs:8,lg:10},l.createElement(pe.a,{max:1,min:0,style:{padding:"20px 0"},step:.05,value:e.weight,onChange:function(t,r){return n({value:e.value,weight:r})}})))}))}}]),t}(l.Component);function Fe(e,t,n){for(var r=e.map(function(e){return{value:e,percent:t(e)}}),a=r.reduce(function(e,t){return e+t.percent},0),i=new Array,l=0,c=0,o=0;o<r.length;o++){var s=r[o],u=s.value;l+=s.percent/a*n;var d=Math.round(l);i.push({value:u,part:d-c}),c=d}return i}var Ie={setSlideWeight:M};var De=Object(s.b)(function(e){return{slides:e.settings.slides}},Ie)(Object(q.e)(function(e){var t=e.slides,n=e.setSlideWeight,r=Fe(t,function(e){return e.weight},50);return l.createElement("div",null,l.createElement(O.C,{gutterBottom:!0,variant:"h5"},l.createElement(q.b,{id:"settings.configuration.slides"})),l.createElement(Ae,{items:t,onChangeWeight:function(e){return n(e)}}),l.createElement(q.b,{id:"settings.configuration.slidesProjection",data:{count:50}}),r.map(function(e,t){return l.createElement(l.Fragment,{key:e.value.value},l.createElement("b",null,e.value.value),": ",e.part,t<r.length-1?", ":null)}))})),Re=n(33),Le=n.n(Re),We={setTagWeight:U};var Me=Object(s.b)(function(e){return{tags:e.settings.tags,decks:e.settings.sources}},We)(Object(q.e)(function(e){var t=e.tags,n=e.decks,r=e.setTagWeight,a=Le.a.uniq(n.flatMap(function(e){return e.tags})).map(function(e){return t.find(function(t){return t.value===e})||{value:e,weight:.5}});return l.createElement("div",null,l.createElement(O.C,{gutterBottom:!0,variant:"h5"},l.createElement(q.b,{id:"settings.configuration.tags"})),l.createElement(Ae,{items:a,onChangeWeight:function(e){return r(e)}}),0===a.length?l.createElement(O.C,{variant:"body1",color:"textSecondary"},l.createElement(q.b,{id:"settings.configuration.tags.none"})):void 0)})),Ue=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.createElement(O.k,{style:{padding:24}},l.createElement(O.k,{container:!0,spacing:32,direction:"column"},l.createElement(O.k,{item:!0,style:{marginBottom:20}},l.createElement(Ee,null)),l.createElement(O.k,{item:!0},l.createElement(Se,null)),l.createElement(O.k,{item:!0},l.createElement(Ne,null)),l.createElement(O.k,{item:!0},l.createElement(De,null)),l.createElement(O.k,{item:!0},l.createElement(Me,null))))}}]),t}(l.Component),_e=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n.handleChangeIndex=function(e){n.setState({value:e})},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.classes,r=e.translate;return l.createElement("div",{className:n.root},l.createElement(O.a,{position:"static",color:"default"},l.createElement(O.A,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.createElement(O.z,{label:r("settings.players")}),l.createElement(O.z,{label:r("settings.sources")}),l.createElement(O.z,{label:r("settings.configuration")}))),l.createElement(j.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:this.state.value,ignoreNativeScroll:!0,style:{flexGrow:1},containerStyle:{height:"100%"},onChangeIndex:this.handleChangeIndex},l.createElement(O.k,{style:{display:"flex",flexDirection:"column",height:"100%"}},l.createElement("div",{style:{marginTop:24,marginLeft:24,marginRight:24}},l.createElement($,null)),l.createElement("div",{style:{flexGrow:1,height:0,overflow:"auto",margin:"24px 24px 0 24px"}},l.createElement(de,null))),l.createElement(O.k,{style:{display:"flex",flexDirection:"column",height:"100%"}},l.createElement("div",{style:{marginTop:24,marginLeft:24,marginRight:24}},l.createElement(me,null)),l.createElement("div",{style:{flexGrow:1,height:0,overflow:"auto"}},l.createElement(Oe,null))),l.createElement(O.k,{style:{display:"flex",flexDirection:"column",height:"100%"}},l.createElement("div",{style:{flexGrow:1,height:0,overflowX:"hidden"}},l.createElement(Ue,null)))))}}]),t}(l.Component),ze=Object(q.e)(Object(w.withStyles)(function(e){return Object(w.createStyles)({root:{backgroundColor:e.palette.background.paper,height:"100%",display:"flex",flexDirection:"column"}})},{withTheme:!0})(_e)),Ge=n(60),Be=n.n(Ge);var qe=Object(w.withStyles)(function(e){return Object(w.createStyles)({responsiveHeader:Object(je.a)({fontSize:"4rem"},e.breakpoints.down("sm"),{fontSize:"2rem"}),responsiveSubTitle:Object(je.a)({fontSize:"1.5rem"},e.breakpoints.down("sm"),{fontSize:"1rem"})})})(function(e){var t=e.classes;return l.createElement("div",null,l.createElement(Be.a,{variant:"h2",className:t.responsiveHeader},"Drinctet"),l.createElement(Be.a,{variant:"h6",className:t.responsiveSubTitle},"The goal is to drink that!"))}),He=n(144),Ke=n.n(He),$e=n(22),Ve=Object(C.createStandardAction)("START_GAME")(),Qe=Object(C.createStandardAction)("CANCEL_GAME")(),Ye=Object(C.createAsyncAction)("NEXT_SLIDE_REQUEST","NEXT_SLIDE_SUCCESS","NEXT_SLIDE_FAILURE")(),Je=Object(C.createStandardAction)("APPLY_CARD")(),Xe=Object(C.createStandardAction)("SET_SLIDE_STATE")(),Ze=Object(C.createStandardAction)("ADD_FOLLOW_UP")(),et=Object(C.createStandardAction)("ACTIVATE_FOLLOW_UP")(),tt=Object(C.createStandardAction)("SET_WILL_POWER_LOCKED")(),nt=Object(C.createStandardAction)("SET_WILL_POWER")(),rt=Object(C.createStandardAction)("ADD_WILL_POWER_MEMORY")(),at=n(332),it=Object(w.createStyles)({root:{color:"white",width:"100%",backgroundColor:"#e74c3c","&:hover":{backgroundColor:"#c0392b"}}}),lt={startGame:Ve};var ct=Object($e.d)(Object(w.withStyles)(it),Object(s.b)(function(e){return{settings:e.settings}},lt),q.e,at.a)(function(e){var t=e.classes,n=e.startGame,r=e.settings,a=e.history,i=r.players.length>0,c=r.sources.filter(function(e){return void 0!==e.cards}).length>0,o=r.sources.filter(function(e){return e.isLoading}).length>0;return l.createElement(Ke.a,{variant:"extended",size:"large",disabled:!i||!c||o,classes:{root:t.root},onClick:function(){return n(a)}},l.createElement(q.b,{id:"welcome.startGame"}))}),ot=Object(w.createStyles)({root:{height:"100vh",display:"flex",flexDirection:"column"},header:{margin:20,marginBottom:10}}),st=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this,e))).state={viewportHeight:window.innerHeight},n.updateHeight=n.updateHeight.bind(Object(b.a)(Object(b.a)(n))),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateHeight)}},{key:"updateHeight",value:function(){this.setState({viewportHeight:window.innerHeight})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.viewportHeight;return c.a.createElement("div",{className:e.root},t>500?c.a.createElement(O.k,{container:!0,justify:"center"},c.a.createElement(O.k,{item:!0,xs:12,md:6,className:e.header},c.a.createElement(qe,null))):null,c.a.createElement("div",{style:{flexGrow:1,height:0}},c.a.createElement(O.k,{container:!0,justify:"center",style:{height:"100%"}},c.a.createElement(O.k,{item:!0,xs:12,md:6},c.a.createElement(ze,null)))),c.a.createElement(O.k,{container:!0,justify:"center"},c.a.createElement(O.k,{item:!0,xs:12,md:6,container:!0,justify:"center"},c.a.createElement(O.k,{item:!0,xs:10,lg:8,style:{padding:"10px 20px 20px 20px"}},c.a.createElement(ct,null)))))}}]),t}(l.Component),ut=Object(w.withStyles)(ot)(st),dt=n(336),ht=n.n(dt),ft=n(337),mt=n.n(ft),pt=n(334),gt=n.n(pt),vt=n(335),yt=n.n(vt),bt=Object(w.createStyles)({button:{color:"white"}}),wt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={anchorEl:null},n.handleMenuOpenClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleNavigate=function(e){n.handleClose(),n.props.history.push("/game/".concat(e))},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.anchorEl,r=null!==n;return c.a.createElement("div",null,c.a.createElement(O.m,{color:"secondary",className:t.button,onClick:this.handleMenuOpenClick},c.a.createElement(gt.a,null)),c.a.createElement(O.t,{anchorEl:n,open:r,onClose:this.handleClose,PaperProps:{style:{width:200}}},c.a.createElement(O.u,{onClick:function(){return e.handleNavigate("settings")}},c.a.createElement(O.r,null,c.a.createElement(yt.a,null)),c.a.createElement(q.b,{id:"game.options.settings"})),c.a.createElement(O.u,{onClick:function(){return e.handleNavigate("insights")}},c.a.createElement(O.r,null,c.a.createElement(ht.a,null)),c.a.createElement(q.b,{id:"game.options.insights"})),c.a.createElement(O.u,{onClick:this.handleClose},c.a.createElement(O.r,null,c.a.createElement(mt.a,null)),c.a.createElement(q.b,{id:"game.options.reportCard"}))))}}]),t}(l.Component),Ot=Object($e.d)(Object(w.withStyles)(bt),q.e,Object(s.b)(function(e){return{selectedSlide:e.game.selectedSlide,activeFollowUp:e.game.activeFollowUp}},{}),at.a)(wt),Et=n(845),jt=n(101),kt=n.n(jt),St=n(102),Ct=n.n(St);function xt(e){return c.a.createElement(O.x,Object.assign({direction:"up"},e))}var Tt=Object(w.createStyles)({appBar:{position:"relative"},flex:{flex:1},content:{flexGrow:1},dialogPaper:{height:"80vh"},fullscreenPaper:{height:"100vh"}});var Pt=Object($e.d)(Ct()({breakpoint:"sm"}),Object(w.withStyles)(Tt),q.e,at.a)(function(e){var t=e.fullScreen,n=e.classes,r=e.history;return c.a.createElement("div",null,c.a.createElement(kt.a,{fullScreen:t,open:!0,onClose:function(){return r.push("/game")},TransitionComponent:xt,fullWidth:!0,maxWidth:"md",classes:{paperScrollPaper:n.dialogPaper,paperFullScreen:n.fullscreenPaper}},c.a.createElement(O.a,{className:n.appBar},c.a.createElement(O.B,null,c.a.createElement(O.C,{variant:"h6",color:"inherit",className:n.flex},c.a.createElement(q.b,{id:"game.options.settings"})),c.a.createElement(O.c,{color:"inherit",onClick:function(){return r.push("/game")}},c.a.createElement(q.b,{id:"game.close"})))),c.a.createElement("div",{className:n.content},c.a.createElement(ze,null))))}),Nt=Object(w.createStyles)({section:{marginTop:10},scrollableTable:{overflow:"auto",width:"100%"},tableCellNoBreak:{whiteSpace:"nowrap"}});function At(e){var t=e.playerInsights,n=e.players,r=e.classes;return c.a.createElement("div",{className:r.scrollableTable},t.predefined.length>0?function(e){var t=e.playerInsights,n=e.players;return c.a.createElement("div",null,c.a.createElement(O.C,null,c.a.createElement(q.b,{id:"insights.predefinedPlayers"}),": ",t.predefined.map(function(e){return n.find(function(t){return t.id===e})}).filter(function(e){return null!=e}).map(function(e){return e.name}).join(", ")))}(e):null,t.rounds.map(function(e,t){var a=Fe(e,function(e){return e.weight},1e3);return c.a.createElement("table",{key:t},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:r.tableCellNoBreak},c.a.createElement(O.C,null,c.a.createElement(q.b,{id:"insights.player",data:{number:t+1}}),":")),a.map(function(e){var t,r=n.find(function(t){return t.id===e.value.playerId});return t=void 0===r?c.a.createElement("span",null,c.a.createElement("i",null,c.a.createElement(q.b,{id:"insights.playerRemoved"}))," ","(",e.part/10,"%)"):c.a.createElement("span",null,r.name," (",e.part/10,"%)"),c.a.createElement("td",{key:e.value.playerId,style:{paddingLeft:10}},c.a.createElement(O.C,null,Ft(t,e.value.chosen)))}))))}))}function Ft(e,t){return t?c.a.createElement("b",null,e):e}var It=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playerInsights,n=e.classes,r=e.card;return c.a.createElement("div",null,c.a.createElement(O.C,{variant:"h5"},c.a.createElement(q.b,{id:"insights.currentSlide"})),c.a.createElement(O.C,null,c.a.createElement(q.b,{id:"insights.currentCard"}),": ",null===r?c.a.createElement("i",null,c.a.createElement(q.b,{id:"insights.noCard"})):c.a.createElement("span",null,c.a.createElement(q.b,{id:"insights.cardInfo",data:{name:r.type,id:r.id,wp:void 0===r.willPower?c.a.createElement(q.b,{id:"insights.universal"}):r.willPower}}))),function(e){var t=e.slide,n=Fe(e.slideInsights.weights,function(e){return e.weight},1e3);return c.a.createElement("table",null,c.a.createElement("tbody",null,n.map(function(e){return c.a.createElement("tr",{key:e.value.value},c.a.createElement("td",null,c.a.createElement(O.C,null,Ft(c.a.createElement("span",null,e.value.value),e.value.value===t))),c.a.createElement("td",{style:{paddingLeft:10}},c.a.createElement(O.C,null,Ft(c.a.createElement("span",null,e.part/10,"%"),e.value.value===t))))})))}(this.props),c.a.createElement(O.C,{variant:"h6",className:n.section},c.a.createElement(q.b,{id:"insights.playerSelection"})),null===t?c.a.createElement(O.C,null,c.a.createElement("i",null,c.a.createElement(q.b,{id:"insights.noPlayers"}))):At(this.props))}}]),t}(l.Component),Dt=Object($e.d)(Object(s.b)(function(e){return{slide:e.game.selectedSlide,slideInsights:e.game.slideInsights,playerInsights:e.game.playerInsights,players:e.settings.players,card:e.game.selectedCard}}),q.e,Object(w.withStyles)(Nt))(It),Rt={setWillPower:nt,setWillPowerLocked:tt},Lt=Object(w.createStyles)({toggleContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start"}});var Wt=Object($e.d)(Object(s.b)(function(e){return{currentWillPower:e.game.currentWillPower,isLocked:e.game.isWillPowerLocked}},Rt),q.e,Object(w.withStyles)(Lt))(function(e){var t=e.currentWillPower,n=e.isLocked,r=e.setWillPower,a=e.setWillPowerLocked,i=e.classes;return l.createElement("div",null,l.createElement(O.C,{variant:"h5",gutterBottom:!0},l.createElement(q.b,{id:"insights.willPower"})),l.createElement("div",{className:i.toggleContainer},l.createElement(pe.c,{exclusive:!0,value:t,onChange:function(e,t){return r(t)},children:[1,2,3,4,5].map(function(e){return l.createElement(pe.b,{key:e,value:e},e)})})),l.createElement(O.j,{row:!0},l.createElement(O.i,{control:l.createElement(O.y,{checked:n,onChange:function(e,t){return a(t)}}),label:l.createElement(q.b,{id:"insights.lockWillPower"})})))});var Mt=n(40),Ut=n(32),_t=function(){return Math.random()};function zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t;if(0!==e.length){var r=[],a=0,i=!0,l=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,d=t(u);r.push({item:u,weight:d}),a+=d}}catch(v){l=!0,c=v}finally{try{i||null==s.return||s.return()}finally{if(l)throw c}}for(var h=a*n(),f=0;f<r.length;f++){var m=r[f],p=m.item,g=m.weight;if(0!==g&&(h-=g)<=0)return p}}}var Gt=function e(){Object(m.a)(this,e),this.playerSelection=null,this.slideWeights=null},Bt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).deckExhaustionLimit=.1,n.insights=new Gt,n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"getAllCardDeckStatistics",value:function(){var e=this.weightCards(this.status.decks,null),t=new Array,n={},r=!0,a=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var o=l.value;t.push({value:o.deck,weight:o.cards.reduce(function(e,t){return e+t.weight},0)*o.deck.weight});var s=!0,u=!1,d=void 0;try{for(var h,f=o.cards[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var m=h.value;void 0===n[m.value.willPower||0]&&(n[m.value.willPower||0]=0),n[m.value.willPower||0]+=m.weight*o.deck.weight}}catch(y){u=!0,d=y}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}}}catch(y){a=!0,i=y}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}var p=new Array;for(var g in n)if(n.hasOwnProperty(g)){var v=n[g];p.push({value:0===Number(g)?null:Number(g),weight:v})}return{decks:t,willPower:p}}},{key:"selectPlayers",value:function(e,t,n){var r=this;if(0===e.length)return[];if(e.length>this.status.players.length)throw new Error("More players were requested than available.");var a=new Array,i=e.map(function(e,n){return t.length>n?t[n]:null}),l=!0,c=!1,o=void 0;try{for(var s,u=function(){var e=s.value,t=r.status.arrangements.find(function(t){return t.p1===e.id||t.p2===e.id});void 0!==t&&(t.p1===e.id?a.push(t.p2):a.push(t.p1))},d=t.filter(function(e){return null!==e}).map(function(e){return e})[Symbol.iterator]();!(l=(s=d.next()).done);l=!0)u()}catch(E){c=!0,o=E}finally{try{l||null==d.return||d.return()}finally{if(c)throw o}}for(var h=0,f={predefined:t.filter(function(e){return null!=e}).map(function(e){return e.id}),rounds:[]};-1!==i.findIndex(function(e){return null===e});){for(var m=function(t){if(null!==i[t])return"continue";var l=e[t],c=void 0;switch(l){case"None":c=r.status.players;break;case"Male":c=r.status.players.filter(function(e){return"Male"===e.gender});break;case"Female":c=r.status.players.filter(function(e){return"Female"===e.gender});break;default:return"continue"}var o=c.filter(function(e){return!Le.a.includes(i,e)}),s=i.filter(function(e){return null!==e&&"Male"===e.gender}).length,u=i.filter(function(e){return null!==e&&"Female"===e.gender}).length,d=new Array,m=r.selectRandomWeighted(o,function(e){var t=1;return Le.a.some(a,function(t){return t===e.id})&&(Le.a.some(Te,function(e){return Le.a.some(n,function(t){return e===t.toLowerCase()})})?t+=o.length:t+=.5*o.length),"None"===l&&r.status.preferOppositeGenders&&(s>u?"Female"===e.gender&&(t+=.5):u>s&&"Male"===e.gender&&(t+=.5)),console.log("".concat(e.name," -> ").concat(t)),d.push({playerId:e.id,weight:t,chosen:!1}),t});d.find(function(e){return e.playerId===m.id}).chosen=!0,f.rounds.push(d),i[t]=m,h++;var p=r.status.arrangements.find(function(e){return e.p1===m.id||e.p2===m.id});void 0!==p&&(p.p1===m.id?a.push(p.p2):a.push(p.p1))},p=0;p<e.length;p++)m(p);if(h===i.length)break;var g=i.filter(function(e){return null!==e&&"Male"===e.gender}).length,v=i.filter(function(e){return null!==e&&"Female"===e.gender}).length,y=null;if(g>v?y="Male":v>g&&(y="Female"),null!==y)for(var b=0;b<e.length;b++){switch(e[b]){case"Opposite":e[b]="Female"===y?"Male":"Female";break;case"Same":e[b]="Female"===y?"Female":"Male"}}else{var w=!1;for(p=0;p<e.length;p++)if("Same"===e[p]){e[p]="None",w=!0;break}if(!w)for(var O=0;O<e.length;O++)if("Opposite"===e[O]){w?e[O]="Same":(e[O]="None",w=!0);break}}}return this.insights.playerSelection=f,i.map(function(e){return e})}},{key:"selectCard",value:function(e){var t=this.weightCards(this.status.decks,e),n=[],r=!0,a=!1,i=void 0;try{for(var l,c=function(){var e=l.value;n.push.apply(n,Object(Ut.a)(e.cards.map(function(t){return{value:t.value,weight:t.weight*e.deck.weight}})))},o=t[Symbol.iterator]();!(r=(l=o.next()).done);r=!0)c()}catch(u){a=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}var s=this.selectRandomFromWeightedList(n);if(void 0===s)throw new Error("That should not actually happen");return s}},{key:"selectNextSlide",value:function(e){var t=this,n=[],r=!0,a=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var o=l.value,s=!0,u=!1,d=void 0;try{for(var h,f=function(){var e=h.value;-1===n.findIndex(function(t){return t===e})&&n.push(e)},m=o.requestedCards[Symbol.iterator]();!(s=(h=m.next()).done);s=!0)f()}catch(D){u=!0,d=D}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}}}catch(D){a=!0,i=D}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}for(var p={},g=0;g<n.length;g++){var v=n[g],y=this.weightCards(this.status.decks.filter(function(e){return 0!==e.weight}),v),b=[],w=!0,O=!1,E=void 0;try{for(var j,k=y[Symbol.iterator]();!(w=(j=k.next()).done);w=!0){var S=j.value;b.push.apply(b,Object(Ut.a)(S.cards))}}catch(D){O=!0,E=D}finally{try{w||null==k.return||k.return()}finally{if(O)throw E}}0===b.length?p[v]=0:p[v]=.75+.25*b.reduce(function(e,t){return e+t.weight},0)/b.length}var C=[],x=!0,T=!1,P=void 0;try{for(var N,A=function(){var e=N.value,n=t.status.slides.find(function(t){return t.value===e.slideType});if(void 0===n||0===n.weight)return"continue";var r=1,a=!0,i=!1,l=void 0;try{for(var c,o=e.requestedCards[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var s=c.value;r=Math.min(p[s],r)}}catch(D){i=!0,l=D}finally{try{a||null==o.return||o.return()}finally{if(i)throw l}}C.push({weight:r*n.weight,value:e})},F=e[Symbol.iterator]();!(x=(N=F.next()).done);x=!0)A()}catch(D){T=!0,P=D}finally{try{x||null==F.return||F.return()}finally{if(T)throw P}}this.insights.slideWeights={weights:C.map(function(e){return{weight:e.weight,value:e.value.slideType}})};var I=this.selectRandomWeighted(C,function(e){return e.weight});if(void 0!==I)return I.value.slideType}},{key:"getSips",value:function(e){return e+1}},{key:"weightCards",value:function(e,t){var n=this,r=e.map(function(e){return{cards:e.cards.filter(function(e){return(null===t||e.type===t)&&(0===e.tags.length||-1===e.tags.findIndex(function(e){var t=n.status.tags.find(function(t){return t.value===e});return void 0!==t&&0===t.weight}))}),url:e.url,weight:e.weight}}),a=r.reduce(function(e,t){return e+t.cards.length},0),i=[],l=this.status.willPower,c=!0,o=!1,s=void 0;try{for(var u,d=function(){var e=u.value,t=void 0,r=n.status.cardsHistory.filter(function(t){return e.cards.findIndex(function(e){return e.id===t})>-1}).length/e.cards.length;t=r>n.deckExhaustionLimit?.5*Math.pow(1.1-r,2):1;var c=[],o=!0,s=!1,d=void 0;try{for(var h,f=e.cards[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){var m=h.value,p=t*n.rateWillPower(m.willPower,l)*n.getHistoryFactor(m.id,n.status.cardsHistory,a)*n.getTagsFactor(m.tags,n.status.tags);0!==p&&c.push({value:m,weight:p})}}catch(g){s=!0,d=g}finally{try{o||null==f.return||f.return()}finally{if(s)throw d}}i.push({deck:e,cards:c})},h=r[Symbol.iterator]();!(c=(u=h.next()).done);c=!0)d()}catch(f){o=!0,s=f}finally{try{c||null==h.return||h.return()}finally{if(o)throw s}}return i}},{key:"recomputeWillPower",value:function(e){var t=new Array,n=new Date,r=this.status.willPower;!Le.a.includes(e,"AFTER_10")&&(n.getHours()>22||n.getHours()<8)&&(r++,t.push("AFTER_10"));var a=this.status.slidesHistory.length;if(a%12===0){var i=a/12;Le.a.includes(e,"SLIDES_".concat(i))||(r++,t.push("SLIDES_".concat(i)))}return{willPower:r,memory:t}}},{key:"getTagsFactor",value:function(e,t){var n=e.map(function(e){return t.find(function(t){return t.value===e})}).filter(function(e){return void 0!==e}).map(function(e){return e.weight});return n.length>0?Math.min.apply(Math,Object(Ut.a)(n)):.5}},{key:"getHistoryFactor",value:function(e,t,n){var r=t.findIndex(function(t){return t===e});return-1===r?1:r/n}},{key:"rateWillPower",value:function(e,t){if(void 0===e)return.75;if(e===t)return 1;if(e>t){var n=.35-.1*(e-t);return n<0?0:n}return.5}},{key:"filterDecks",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;if(!(c.weight<=0)){var o=[],s=!0,u=!1,d=void 0;try{for(var h,f=c.cards[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var m=h.value;if(this.verifyPlayerSpecification(this.status.players,m.players)){var p=!1,g=!0,v=!1,y=void 0;try{for(var b,w=m.tags[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var O=b.value;if(this.checkIfWeightedZero(O,this.status.tags)){p=!0;break}}}catch(E){v=!0,y=E}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}p||m.condition(this.status)&&o.push(m)}}}catch(E){u=!0,d=E}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}o.length>0&&t.push({cards:o,weight:c.weight,url:c.url})}}}catch(E){r=!0,a=E}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}return t}},{key:"checkIfWeightedZero",value:function(e,t){return t.findIndex(function(t){return t.value===e&&t.weight<=0})>-1}},{key:"verifyPlayerSpecification",value:function(e,t){if(t.length>e.length)return!1;var n=t.filter(function(e){return"Male"===e.gender}).length,r=e.filter(function(e){return"Male"===e.gender}).length;if(n>r)return!1;var a=t.filter(function(e){return"Female"===e.gender}).length,i=e.filter(function(e){return"Female"===e.gender}).length;return!(a>i)&&(!(t.filter(function(e){return"Opposite"===e.gender}).length>Math.min(i,r))&&!(t.filter(function(e){return"Same"===e.gender}).length+1>Math.max(i,r)))}}]),t}(function(){function e(t,n){Object(m.a)(this,e),this.status=t,this.random=void 0,this.random=n}return Object(p.a)(e,[{key:"getRandom",value:function(){return this.random()}},{key:"selectRandomWeighted",value:function(e,t){var n=this;return zt(e,t,function(){return n.random()})}},{key:"selectRandomFromWeightedList",value:function(e){var t=this;return function(e){var t=zt(e,function(e){return e.weight},arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t);if(void 0!==t)return t.value}(e,function(){return t.random()})}}]),e}()),qt=n(349),Ht=n.n(qt),Kt=n(846),$t=n(54),Vt=n.n($t),Qt=n(108),Yt=n(350),Jt=n.n(Yt),Xt=function(){function e(t,n){Object(m.a)(this,e),this.requestFile=t,this.parserFactory=n,this.domParser=new DOMParser}return Object(p.a)(e,[{key:"loadFromUrl",value:function(){var e=Object(Qt.a)(Vt.a.mark(function e(t){var n;return Vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.loadFile(t,n,void 0);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadFile",value:function(){var e=Object(Qt.a)(Vt.a.mark(function e(t,n,r){var a,i,l,c,o,s,u;return Vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestFile(t);case 2:a=e.sent,i=this.domParser.parseFromString("<Root>"+a+"</Root>","text/xml"),l=i.getElementsByTagName("*"),c=0;case 6:if(!(c<l.length)){e.next=25;break}if((o=l[c]).parentElement===i.documentElement){e.next=10;break}return e.abrupt("continue",22);case 10:if("DeckReference"!==o.nodeName){e.next=14;break}return e.next=13,this.parseDeckReference(o,n,r);case 13:return e.abrupt("continue",22);case 14:if(void 0!==(s=this.parserFactory.createParser(o.nodeName))){e.next=18;break}return console.error("The card ".concat(o.nodeName," could not be parsed. No parser found.")),e.abrupt("continue",22);case 18:if(u=s.deserialize(o),void 0===r||-1!==r.indexOf(u.id)){e.next=21;break}return e.abrupt("continue",22);case 21:n.push(u);case 22:c++,e.next=6;break;case 25:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"parseDeckReference",value:function(e,t,n){var r=e.getAttribute("url");if(null===r)throw new Error("The url on a deck reference must not be null.");for(var a,i=[],l=e.getElementsByTagName("CardRef"),c=0;c<l.length;c++){var o=l[c].getAttribute("id");null!==o&&i.push(o)}if(0===i.length)a=n;else if(void 0!==n){a=[];var s=!0,u=!1,d=void 0;try{for(var h,f=n[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var m=h.value;i.indexOf(m)>-1&&a.push(m)}}catch(p){u=!0,d=p}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}}else a=i;return this.loadFile(r,t,a)}}]),e}(),Zt=n(83),en=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"None";Object(m.a)(this,e),this.playerIndex=t,this.gender=n},tn=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"parsePlayerTag",value:function(e){if(e.startsWith("Player")){if(e.length>"Player".length){var t=Number(e.substring("Player".length));return isNaN(t)?void 0:t}return 1}}},{key:"parseGenderRequirement",value:function(e){if((e=e.toLowerCase())in this.genderRequirementMap)return this.genderRequirementMap[e]}},{key:"parseTimeSpanStringToSeconds",value:function(e){var t=e.split(":");if(!(t.length>3)){for(var n=0,r=0;r<t.length;r++){var a=Number(t[r]);if(isNaN(a))return;n+=a*Math.pow(60,t.length-r-1)}return n}}}]),e}();tn.genderRequirementMap={m:"Male",male:"Male",f:"Female",female:"Female",o:"Opposite",opposite:"Opposite",s:"Same",same:"Same"};var nn=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"deserialize",value:function(e){var t=this.createCard(),n=e.getAttribute("id");if(null===n)throw new Error("The id of a card must not be null");t.id=n,t.willPower=Number(e.getAttribute("willPower")),(t.willPower<1||t.willPower>10)&&(t.willPower=void 0);var r=e.getAttribute("tags");t.tags=r?[].concat(Object(Ut.a)(this.getDefaultAttributes()),Object(Ut.a)(r.split(","))):this.getDefaultAttributes(),this.parseAttributes(e,t);for(var a=e.getElementsByTagName("*"),i=0;i<a.length;i++){var l=a[i];l.parentElement===e&&(l.tagName!=="".concat(e.tagName,".players")?this.parseElement(l,t):t.players=this.parsePlayers(l))}return void 0===t.players&&(t.players=[]),t}},{key:"getDefaultAttributes",value:function(){return[]}},{key:"parsePlayers",value:function(e){for(var t=[],n=e.getElementsByTagName("*"),r=0;r<n.length;r++){var a=n[r];if(a.parentElement===e){var i=this.parsePlayer(a);void 0!==i&&t.push(i)}}return t}},{key:"parsePlayer",value:function(e){var t=tn.parsePlayerTag(e.tagName);if(void 0!==t){var n="None",r=e.getAttribute("gender");if(r){var a=tn.parseGenderRequirement(r);void 0!==a&&(n=a)}return new en(t,n)}}}]),e}(),rn=function e(){Object(m.a)(this,e),this.weight=1,this.translations=void 0},an=function e(t,n){Object(m.a)(this,e),this.lang=t,this.content=n},ln=function(){function e(){Object(m.a)(this,e),this.result=void 0,this.isConditionalElement=void 0,this.result=[]}return Object(p.a)(e,[{key:"addElement",value:function(e){switch(e.tagName){case"Case":return!1!==this.isConditionalElement&&(this.isConditionalElement=!0,this.result.push(this.parseTextElement(e)),!0);case"Text":return!0!==this.isConditionalElement&&(void 0===this.isConditionalElement&&this.result.push({translations:[],weight:1}),this.isConditionalElement=!1,this.result[0].translations.push(this.parseTranslation(e)),!0);default:return!1}}},{key:"parseTextElement",value:function(e){var t=[],n=new rn,r=Number(e.getAttribute("weight"));isNaN(r)||(n.weight=r);for(var a=e.getElementsByTagName("Text"),i=0;i<a.length;i++){var l=a[i];t.push(this.parseTranslation(l))}return n.translations=t,n}},{key:"parseTranslation",value:function(e){var t=e.getAttribute("lang");if(null===t)throw new Error("lang attribute not found on element");if(null===e.textContent)throw new Error("The text content of the element is empty.");return new an(t,e.textContent)}}]),e}(),cn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).textContentParser=new ln,n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"parseAttributes",value:function(e,t){var n=e.getAttribute("followUpProbability");if(null!==n){var r=Number(n);if(isNaN(r))throw new Error("The follow up propability ".concat(n," could not be parsed as a number (card: ").concat(t.id,")."));t.followUpPropability=r}var a=e.getAttribute("followUpDelay");if(null!==a){var i=tn.parseTimeSpanStringToSeconds(a);if(void 0===i)throw new Error("Could not parse followUpDelay ".concat(a," as a timespan (card: ").concat(t.id,")."));t.followUpDelay=i}else t.followUpDelay=0}},{key:"parseElement",value:function(e,t){switch(e.tagName){case"Text":case"Case":return t.content=this.textContentParser.result,this.textContentParser.addElement(e)}if(e.tagName==="".concat(t.type,".followUp")){for(var n=new ln,r=e.getElementsByTagName("*"),a=0;a<r.length;a++){var i=r[a];i.parentElement===e&&n.addElement(i)}return t.followUp=n.result,!0}return!1}}]),t}(nn),on=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).followUpPropability=1,n.followUpDelay=void 0,n.content=void 0,n.followUp=void 0,n.condition=function(e){return Le.a.some(n.content,function(t){return Le.a.some(t.translations,function(t){return t.lang===e.language})})},n}return Object(y.a)(t,e),t}(function e(){Object(m.a)(this,e),this.id=void 0,this.willPower=void 0,this.players=void 0,this.tags=void 0,this.condition=void 0,this.type=void 0}),sn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).type="FactCard",n.isTrueFact=!1,n}return Object(y.a)(t,e),t}(on),un=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"createCard",value:function(){return new sn}},{key:"parseAttributes",value:function(e,n){Object(Zt.a)(Object(v.a)(t.prototype),"parseAttributes",this).call(this,e,n);var r=e.getAttribute("is");n.isTrueFact=null===r||this.toBool(r)}},{key:"toBool",value:function(e){return"true"===e||void 0!==e&&!!+e}}]),t}(cn),dn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).type="DownCard",n}return Object(y.a)(t,e),t}(on),hn=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"createCard",value:function(){return new dn}}]),t}(cn),fn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).type="NeverEverCard",n}return Object(y.a)(t,e),t}(on),mn=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"createCard",value:function(){return new fn}}]),t}(cn),pn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).type="JokeCard",n}return Object(y.a)(t,e),t}(on),gn=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"createCard",value:function(){return new pn}}]),t}(cn),vn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).type="QuestionCard",n}return Object(y.a)(t,e),t}(on),yn=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"createCard",value:function(){return new vn}}]),t}(cn),bn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).type="TaskCard",n.genderRequirement="None",n}return Object(y.a)(t,e),t}(on),wn={FactCard:un,DownCard:hn,NeverEverCard:mn,JokeCard:gn,QuestionCard:yn,TaskCard:function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"createCard",value:function(){return new bn}}]),t}(cn)},On=new Xt(function(e){return En.apply(this,arguments)},new(function(){function e(){Object(m.a)(this,e),this.parsers=void 0,this.parsers=wn}return Object(p.a)(e,[{key:"createParser",value:function(e){if(e in this.parsers)return new this.parsers[e]}}]),e}()));function En(){return(En=Object(Qt.a)(Vt.a.mark(function e(t){var n;return Vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jn(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(Qt.a)(Vt.a.mark(function e(t){return Vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",On.loadFromUrl(t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Sn={api:{cardsLoader:r}},Cn=n(847),xn=n(356),Tn=n(357),Pn=n(840),Nn=n(351),An=n(352),Fn=n(841),In=function(e,t,n){var r=n.api;return e.pipe(Object(Pn.a)(Object(C.isActionOf)(F.request)),Object(Nn.a)(function(e){return Object(xn.a)(r.cardsLoader.loadCards(e.payload)).pipe(Object(An.a)(function(t){return F.success({url:e.payload,cards:t})}),Object(Fn.a)(function(t){return Object(Tn.a)(F.failure({url:e.payload,message:t}))}))}))},Dn=n(842),Rn=n(843),Ln=n(63);function Wn(e){return{languageCode:e.activeLanguage.code,translate:function(t){return e.translate(t)}}}var Mn=n(168);function Un(e){var t;return t={textAlign:"center"},Object(je.a)(t,e.breakpoints.down("sm"),{width:"100%",marginLeft:30,marginRight:30,fontSize:20}),Object(je.a)(t,e.breakpoints.up("md"),{width:"80%"}),Object(je.a)(t,e.breakpoints.up("lg"),{width:"60%"}),t}function _n(e){return Object(je.a)({visibility:"hidden"},e.breakpoints.down("sm"),{display:"none"})}var zn={overrides:{p:{component:function(e){var t=e.children,n=Object(Mn.a)(e,["children"]);return l.createElement("p",Object.assign({},n,{style:{marginBlockStart:5,marginBlockEnd:5}}),t)},props:{}},h3:{component:function(e){var t=e.children,n=Object(Mn.a)(e,["children"]);return l.createElement("h3",Object.assign({},n,{style:{marginBlockStart:5,marginBlockEnd:5}}),t)},props:{}},h4:{component:function(e){var t=e.children,n=Object(Mn.a)(e,["children"]);return l.createElement("h4",Object.assign({},n,{style:{marginBlockStart:5,marginBlockEnd:5}}),t)},props:{}}}},Gn=function(){function e(t,n){Object(m.a)(this,e),this.cardType=t,this.slideType=n,this.requiredCards=void 0,this.requiredCards=[t]}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Nr().selectCard(this.cardType);return[Je(e)].concat(Object(Ut.a)(this.initializeCard(e)))}},{key:"initializeFollowUp",value:function(e,t){return this.initializeFollowUpCard(e,t)}}]),e}(),Bn=function e(){Object(m.a)(this,e)},qn=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this))).texts=e,n}return Object(y.a)(t,e),t}(Bn),Hn=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),t}(Bn),Kn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(m.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).minSips=n,e.sipsIndex=r,e}return Object(y.a)(t,e),t}(Hn),$n=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"None";return Object(m.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).playerIndex=n,e.gender=r,e}return Object(y.a)(t,e),t}(Hn),Vn=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this))).text=e,n}return Object(y.a)(t,e),t}(Bn),Qn=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this))).numbers=e,n}return Object(y.a)(t,e),t}(Bn),Yn=function(){function e(t,n){Object(m.a)(this,e),this.min=t,this.max=n}return Object(p.a)(e,[{key:"getCount",value:function(){return this.max-this.min}}]),e}(),Jn=function(){function e(t){Object(m.a)(this,e),this.i=t}return Object(p.a)(e,[{key:"getCount",value:function(){return 1}}]),e}(),Xn=function(e){function t(e,n,r){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(v.a)(t).call(this))).femaleText=e,a.maleText=n,a.referencedPlayerIndex=r,a}return Object(y.a)(t,e),t}(Bn),Zn=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"decode",value:function(e){var t=[],n=0,r=0;do{if("["==e[n]){r!==n&&t.push(new Vn(e.substring(r,n)));var a=this.readToken(e,n,"]");n=a.index,t.push(this.parseVariableFragment(a.value))}else{if("{"!==e[n])continue;if(n>1&&"!"===e[n-1]){r!==--n&&t.push(new Vn(e.substring(r,n))),n++;var i=this.readToken(e,n,"}");n=i.index,t.push(this.parseRandomSelectionFragment(i.value))}else{r!==n&&t.push(new Vn(e.substring(r,n)));var l=this.readToken(e,n,"}");n=l.index,t.push(this.parseGenderSelectionFragment(l.value))}}r=n}while(++n<e.length);return r!==e.length&&t.push(new Vn(e.substring(r))),t}},{key:"parseVariableFragment",value:function(e){if((e=e.toLowerCase()).startsWith("player")){var t,n=new $n,r=e.indexOf(":");if(-1===r)t=e;else{t=e.substring(0,r);var a=e.substring(r+1),i=tn.parseGenderRequirement(a);if(void 0===i)throw new Error("Gender parameter of player tag could not be parsed: ".concat(e));n.gender=i}return n.playerIndex=this.parsePlayerIndex(t),n}if(e.startsWith("sips")){var l,c=new Kn,o=e.indexOf(":");if(-1===o)l=e;else if(l=e.substring(0,o),c.minSips=Number(e.substring(o+1)),isNaN(c.minSips))throw new Error('The sips amount of "'.concat(l,'" could not be parsed.'));if(l.length>"sips".length&&(c.sipsIndex=Number(l.substring("sips".length)),isNaN(c.sipsIndex)))throw new Error('The sips index of "'.concat(l,'" could not be parsed.'));return c}return new Vn(e)}},{key:"parseRandomSelectionFragment",value:function(e){if(/^[0-9,-]+$/.test(e)){var t=this.parseNumberArray(e);return new Qn(t)}var n=this.splitQuoted(e,",");return new qn(n)}},{key:"parseNumberArray",value:function(e){for(var t=[],n=null,r=0,a=!1,i=0;;){for(;i<e.length;i++){var l=e[i];if(isNaN(Number(l))){if("-"!==l){if(","===l)break;throw new Error("Invalid character found: "+l)}if(a)throw new Error("Can only have one range identifier per field");a=!0,n=new Yn(Number(e.substring(r,i)),0),r=i+1}}if(i===r)throw new Error("A number was expected at position ".concat(i,' in string "').concat(e,'"'));var c=Number(e.substring(r,i));if(a?n.max=c:n=new Jn(c),t.push(n),i===e.length)break;n=null,a=!1,r=++i}return t}},{key:"splitQuoted",value:function(e,t){for(var n=0,r=[];e.length>n-1;){var a=!1;'"'===e[n]&&(a=!0,n++);var i=n;do{if(e[i]===t){if(a)continue;r.push(e.substring(n,i)),n=i+1;break}if('"'==e[i]){if(!a)continue;if(i==e.length-1)return r.push(e.substring(n,i).replace('""','"')),r;var l=e[i+1];if('"'==l){i++;continue}if(l!=t)throw new Error("The delimiter must come after the closing quotes.");r.push(e.substring(n,i).replace('""','"')),n=i+2;break}if(i==e.length-1){if(a)throw new Error("The text must end with a quote");return r.push(e.substring(n,i+1)),r}}while(++i<e.length)}return r}},{key:"parseGenderSelectionFragment",value:function(e){var t=new Xn(""),n=e.indexOf("/"),r=e.indexOf("|");return-1!==r&&(t.referencedPlayerIndex=this.parsePlayerIndex(e.substring(r+1)),e=e.substring(0,r)),-1===n?t.femaleText=e:(t.maleText=e.substring(0,n),t.femaleText=e.substring(n+1,e.length)),t}},{key:"parsePlayerIndex",value:function(e){if(e.length>"player".length){var t=Number(e.substring("player".length));if(isNaN(t))throw new Error('The player index of "'.concat(e,'" could not be parsed.'));return t}return 1}},{key:"readToken",value:function(e,t,n){for(var r=e.length,a=t;++t<r;){var i=e[t];if("\\"!==i){if(i===n){t++;break}}else t++}return{index:t,value:e.substring(a+1,t-1)}}}]),e}(),er=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"parseTextFragments",value:function(e){return(new Zn).decode(e)}},{key:"format",value:function(e,t,n,r,a,i){var l="",c=null,o=!0,s=!1,u=void 0;try{for(var d,h=e[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){var f=d.value;if(f instanceof Vn)l+=f.text;else if(f instanceof $n)i.boldPlayerNames&&(l+="**"),l+=t[f.playerIndex].name,i.boldPlayerNames&&(l+="**"),c=f;else if(f instanceof Kn){i.boldSips&&(l+="**");var m=n[f.sipsIndex];1===m?r("oneSip"):l+="".concat(m," ").concat(r("sips")),i.boldSips&&(l+="**")}else if(f instanceof Xn){var p=void 0;if(void 0!==f.referencedPlayerIndex)p=f.referencedPlayerIndex;else if(null!==c)p=c.playerIndex;else{var g=Object.keys(t);if(0===g.length)continue;p=Number(g[0])}l+="Female"===t[p].gender?f.femaleText:f.maleText}else if(f instanceof qn){l+=a.selectRandomWeighted(f.texts,function(){return 1})}else if(f instanceof Qn){var v=a.selectRandomWeighted(f.numbers,function(e){return e.getCount()});if(void 0===v)continue;if(v instanceof Yn)l+=v.min+Math.round((v.max-v.min)*a.getRandom());else v instanceof Jn&&(l+=v.i)}}}catch(y){s=!0,u=y}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return l}}],[{key:"getRequiredPlayers",value:function(e,t){var n=new Array,r=Le.a.groupBy(e.filter(function(e){return e instanceof $n}).map(function(e){return e}),"playerIndex");for(var a in r)r.hasOwnProperty(a)&&function(){var e=r[a][0],i=e.gender;if("None"===i){var l=t.find(function(t){return t.playerIndex===e.playerIndex});void 0!==l&&(i=l.gender)}n.push({playerIndex:e.playerIndex,gender:i})}();return n}},{key:"getRequiredSips",value:function(e){var t=Le.a.groupBy(e.filter(function(e){return e instanceof Kn}).map(function(e){return e}),"sipsIndex");return Object.values(t).map(function(e){return e[0]})}}]),e}(),tr=function(e){function t(e,n,r){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(v.a)(t).call(this,n,r))).translator=e,a}return Object(y.a)(t,e),Object(p.a)(t,[{key:"initializeCard",value:function(e){var t=Nr(),n=new Array,r=this.selectText(t,e),a=this.formatText(r,e,null,t),i=a.formatted,l=a.players,c=this.initializeState(i,e,l,t);if(n.push(Xe({state:c,insights:t.insights.playerSelection})),Le.a.some(e.followUp)&&Math.random()<=e.followUpPropability){var o=new Date;o.setSeconds(o.getSeconds()+e.followUpDelay),n.push(Ze(this.createFollowUp(e,l,o)))}return n}},{key:"initializeFollowUpCard",value:function(e,t){var n=Nr();try{var r=this.selectFollowUpText(n,e,t),a=r.text,i=r.players,l=this.formatText(a,e,i||[],n).formatted,c=this.initializeFollowUpState(l,e,n,t);return[Xe({state:c,insights:n.insights.playerSelection})]}catch(o){return[Ye.request(this.translator)]}}},{key:"createFollowUp",value:function(e,t,n){return{due:n,slideType:this.slideType,selectedCard:e,param:{definedPlayers:t}}}},{key:"selectText",value:function(e,t){return rr(e,t,this.translator)}},{key:"formatText",value:function(e,t,n,r){return nr(e,t,n,r,this.translator)}},{key:"selectFollowUpText",value:function(e,t,n){var r,a=this.translator.languageCode,i=t.followUp.filter(function(e){return Le.a.some(e.translations,function(e){return e.lang.toLowerCase()===a})});if(0===i.length)throw new Error("No follow ups found");return r="definedPlayers"in n?n.definedPlayers:void 0,{text:e.selectRandomWeighted(i,function(e){return e.weight}).translations.find(function(e){return e.lang===a}).content,players:r}}}]),t}(Gn);function nr(e,t,n,r,a){var i=new er,l=i.parseTextFragments(e),c=Pr(r,er.getRequiredPlayers(l,t.players),n||[],t.tags),o=er.getRequiredSips(l),s={},u=!0,d=!1,h=void 0;try{for(var f,m=c[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var p=f.value;s[p.index]=p.player}}catch(j){d=!0,h=j}finally{try{u||null==m.return||m.return()}finally{if(d)throw h}}var g={},v=!0,y=!1,b=void 0;try{for(var w,O=o[Symbol.iterator]();!(v=(w=O.next()).done);v=!0){var E=w.value;g[E.sipsIndex]=r.getSips(E.minSips)}}catch(j){y=!0,b=j}finally{try{v||null==O.return||O.return()}finally{if(y)throw b}}return{formatted:i.format(l,s,g,function(e){return a.translate("game.textFormatter.".concat(e))},r,{boldPlayerNames:!0,boldSips:!0}),players:c}}function rr(e,t,n){var r=n.languageCode,a=t.content.filter(function(e){return Le.a.some(e.translations,function(e){return e.lang.toLocaleLowerCase()===r})});return e.selectRandomWeighted(a,function(e){return e.weight}).translations.find(function(e){return e.lang===r}).content}var ar={nextSlide:Ye.request,setState:Xe,applyCard:Je};var ir=Object($e.d)(Object(s.b)(function(e){return{state:e.game.slideState,players:e.settings.players}},ar),Object(w.withStyles)(function(e){return Object(w.createStyles)({root:Object(te.a)({},{backgroundColor:"#3498db",height:"100%",fontSize:25,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},{backgroundColor:"#34495e",cursor:"default"}),clickableRoot:Object(te.a)({},{backgroundColor:"#3498db",height:"100%",fontSize:25,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},{backgroundColor:"#34495e"}),content:Un(e),header:Object(je.a)({color:"white",marginBottom:15},e.breakpoints.down("sm"),{fontSize:"1.5rem"}),spaceHeader:{visibility:"hidden",marginTop:15},questionPaper:Object(je.a)({padding:2*e.spacing.unit},e.breakpoints.up("sm"),{padding:3*e.spacing.unit,width:50*e.spacing.unit}),questionButtonsContainer:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing.unit}})}),q.e)(function(e){var t=e.classes,n=e.state;return null===n?l.createElement("div",{className:t.root}):n.isDeciding?l.createElement("div",{className:t.root},function(e){var t=e.state,n=e.players,r=e.nextSlide,a=e.classes,i=n.find(function(e){return e.id===t.selectedPlayer});if(void 0===i)return r(Wn(e)),l.createElement("div",null);var c=function(t){return new lr(Wn(e)).select(t,e,i)};return l.createElement(O.v,{className:a.questionPaper},l.createElement(O.C,{variant:"h6",component:"h6"},l.createElement(q.b,{id:"slides.truthordare.playerTruthordare",data:{name:i.name}})),l.createElement("div",{className:a.questionButtonsContainer},l.createElement(O.c,{variant:"contained",color:"primary",style:{marginRight:15},onClick:function(){return c("Truth")}},l.createElement(q.b,{id:"slides.truthordare.truth"})),l.createElement(O.c,{variant:"contained",color:"secondary",onClick:function(){return c("Dare")}},l.createElement(q.b,{id:"slides.truthordare.dare"}))))}(e)):"Dare"===n.decision?function(e){var t=e.classes,n=e.nextSlide,r=e.state,a=l.createElement(O.C,{className:t.header,variant:"h4"},l.createElement(q.b,{id:"slides.truthordare.truth"})," ",l.createElement(q.b,{id:"slides.truthordare.or"})," ",l.createElement("b",null,l.createElement(q.b,{id:"slides.truthordare.dare"})));return l.createElement("div",{className:t.clickableRoot,onClick:function(){return n(Wn(e))}},l.createElement("div",{className:t.content},a,l.createElement(Ln.a,{children:r.markdownContent,options:zn}),l.createElement("div",{className:t.spaceHeader},a)))}(e):function(e){var t=e.classes,n=e.nextSlide,r=e.state,a=l.createElement(O.C,{className:t.header,variant:"h4"},l.createElement("b",null,l.createElement(q.b,{id:"slides.truthordare.truth"}))," ",l.createElement(q.b,{id:"slides.truthordare.or"})," ",l.createElement(q.b,{id:"slides.truthordare.dare"}));return l.createElement("div",{className:t.clickableRoot,onClick:function(){return n(Wn(e))}},l.createElement("div",{className:t.content},a,l.createElement(Ln.a,{children:r.markdownContent,options:zn}),l.createElement("div",{className:t.spaceHeader},a)))}(e)}),lr=function(){function e(t){Object(m.a)(this,e),this.translator=t,this.slideType="TruthOrDareSlide",this.requiredCards=["TaskCard","QuestionCard"]}return Object(p.a)(e,[{key:"select",value:function(e,t,n){var r=Nr(),a="Dare"===e?"TaskCard":"QuestionCard",i=r.selectCard(a),l=rr(r,i,this.translator),c=nr("#### ".concat(this.translator.translate("slides.truthordare.instruction"),"\n").concat(l),i,[{index:99,player:n}],r,this.translator).formatted;t.applyCard(i);var o={isDeciding:!1,selectedPlayer:n.id,markdownContent:c,decision:e};t.setState({state:o,insights:r.insights.playerSelection})}},{key:"initialize",value:function(){var e=Nr(),t=Pr(e,[new en(1,"None")],[],[])[0].player;return[this.setState({isDeciding:!0,selectedPlayer:t.id},e.insights.playerSelection)]}},{key:"setState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Xe({state:e,insights:t})}},{key:"initializeFollowUp",value:function(){throw new Error("Method not supported.")}},{key:"render",value:function(){return l.createElement(ir,null)}}]),e}(),cr={nextSlide:Ye.request};var or=Object($e.d)(Object(s.b)(function(e){return{state:e.game.slideState}},cr),Object(w.withStyles)(function(e){return Object(w.createStyles)({root:Object(te.a)({},{backgroundColor:"#3498db",height:"100%",fontSize:25,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},{backgroundColor:"#34495e"}),content:Un(e),header:{color:"white",marginBottom:15},spaceHeader:_n(e)})}),q.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return l.createElement("div",{className:t.root});var a=l.createElement(O.C,{className:t.header,variant:"h3"},l.createElement(q.b,{id:"slides.down.title"}));return l.createElement("div",{className:t.root,onClick:function(){return n(Wn(e))}},l.createElement("div",{className:t.content},a,l.createElement(Ln.a,{children:r.markdownContent,options:zn}),l.createElement("div",{className:t.spaceHeader},a)))}),sr=function(e){function t(e){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).call(this,e,"DownCard","DownSlide"))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.createElement(or,null)}},{key:"initializeState",value:function(e){return{markdownContent:e}}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e}}}]),t}(tr),ur={nextSlide:Ye.request};var dr=Object($e.d)(Object(s.b)(function(e){return{state:e.game.slideState}},ur),Object(w.withStyles)(function(e){return Object(w.createStyles)({root:Object(te.a)({},{backgroundColor:"#3498db",height:"100%",fontSize:25,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},{backgroundColor:"#3498db"}),content:Un(e),header:{color:"white",marginBottom:15},spaceHeader:_n(e)})}),q.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return l.createElement("div",{className:t.root});var a=l.createElement(O.C,{className:t.header,variant:"h3"},l.createElement(q.b,{id:"slides.fact.title".concat(r.isFollowUp?".follow":"")}));return l.createElement("div",{className:t.root,onClick:function(){return n(Wn(e))}},l.createElement("div",{className:t.content},a,l.createElement(Ln.a,{children:r.markdownContent,options:zn}),l.createElement("div",{className:t.spaceHeader},a)))}),hr=["singleplayer","multiplayer"],fr=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this,e,"FactCard","FactSlide"))).selectedMode=void 0,n.players=void 0,n.selectedMode=hr[Math.floor(hr.length*Math.random())],n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.createElement(dr,null)}},{key:"selectText",value:function(e,n){var r=Object(Zt.a)(Object(v.a)(t.prototype),"selectText",this).call(this,e,n),a=this.translator.translate("slides.fact.".concat(this.selectedMode));return"#### ".concat(a,"\n").concat(r)}},{key:"selectFollowUpText",value:function(e,t,n){var r=n,a=r.mode,i=r.players,l=t.isTrueFact;return{text:this.translator.translate("slides.fact.".concat(a,".").concat(l)),players:i}}},{key:"initializeState",value:function(e,t,n){return this.players=n,{isFollowUp:!1,markdownContent:e,mode:this.selectedMode}}},{key:"initializeFollowUpState",value:function(e,t){return{isFollowUp:!0,markdownContent:e,mode:t.mode}}},{key:"initializeCard",value:function(e){return[].concat(Object(Ut.a)(Object(Zt.a)(Object(v.a)(t.prototype),"initializeCard",this).call(this,e)),[Ze({due:new Date,selectedCard:e,slideType:"FactSlide",param:{mode:this.selectedMode,players:this.players}})])}}]),t}(tr),mr={nextSlide:Ye.request};var pr=Object($e.d)(Object(s.b)(function(e){return{state:e.game.slideState}},mr),Object(w.withStyles)(function(e){return Object(w.createStyles)({root:Object(te.a)({},{backgroundColor:"#3498db",height:"100%",fontSize:25,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},{backgroundColor:"#27ae60"}),content:Un(e),header:{color:"white",marginBottom:15},instruction:{color:"white"},spaceHeader:_n(e)})}),q.e)(function(e){var t=e.classes,n=e.nextSlide,r=e.state;if(null===r)return l.createElement("div",{className:t.root});var a=l.createElement(O.C,{className:t.header,variant:"h5"},l.createElement(q.b,{id:"slides.neverever.title"}));return l.createElement("div",{className:t.root,onClick:function(){return n(Wn(e))}},l.createElement("div",{className:t.content},a,l.createElement(O.C,{variant:"h5",className:t.instruction},l.createElement(Ln.a,{children:r.markdownContent,options:zn})),l.createElement("div",{style:{position:"relative"}},l.createElement(O.C,{style:{marginTop:20},className:t.instruction,variant:"h6"},l.createElement(q.b,{id:"slides.neverever.instruction",data:{sips:r.sips}})))))}),gr={DownSlide:sr,FactSlide:fr,NeverEverSlide:function(e){function t(e){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).call(this,e,"NeverEverCard","NeverEverSlide"))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.createElement(pr,null)}},{key:"initializeState",value:function(e,t,n,r){return{markdownContent:e,sips:r.getSips(2)}}},{key:"selectText",value:function(e,n){return"..."+Object(Zt.a)(Object(v.a)(t.prototype),"selectText",this).call(this,e,n)}},{key:"initializeFollowUpState",value:function(e){return{markdownContent:e,sips:0}}}]),t}(tr),TruthOrDareSlide:lr};var vr=function(e){return e.pipe(Object(Pn.a)(Object(C.isActionOf)(Ye.request)),Object(Nn.a)(function(e){return Tn.a.apply(void 0,Object(Ut.a)(function(e){var t=new Date,n=Tr.getState(),r=n.game.followUp.filter(function(e){return e.due<t});if(r.length>0){var a=Le.a.sortBy(r,function(e){return e.due.getSeconds()})[0],i=gr[a.slideType],l=new i(e),c=l.initializeFollowUp(a.selectedCard,a.param);return[et(a)].concat(Object(Ut.a)(c))}var o=Nr(n),s=function(e){var t=new Array;for(var n in e)if(e.hasOwnProperty(n)){var r=new(0,e[n])({languageCode:"en",translate:function(){return""}});t.push({slideType:r.slideType,requestedCards:r.requiredCards})}return t}(gr),u=o.recomputeWillPower(n.game.willPowerMemory),d=u.willPower,h=u.memory,f=new Array;d!==n.game.currentWillPower&&(n.game.isWillPowerLocked||(f.push(nt(d)),n=Object(te.a)({},n,{game:Object(te.a)({},n.game,{currentWillPower:d})}),o=Nr(n)));h.length>0&&f.push(rt(h));var m=o.selectNextSlide(s);if(void 0===m)throw new Error("Game Finished");var p=new(0,gr[m])(e).initialize();return[Ye.success({slide:m,insights:o.insights.slideWeights})].concat(Object(Ut.a)(p))}(e.payload)))}))},yr=function(e){return e.pipe(Object(Pn.a)(Object(C.isActionOf)(Ve)),Object(Dn.a)(function(e){return e.payload.push("/game")}),Object(Rn.a)())};var br=Cn.a.apply(void 0,Object(Ut.a)(Object.values(a)).concat(Object(Ut.a)(Object.values(i)))),wr=$e.d,Or=Object($e.c)({cardsHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(Je):return[t.payload.id].concat(Object(Ut.a)(e));default:return e}},slidesHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(Ye.success)?[t.payload.slide].concat(Object(Ut.a)(e)):e},isStarted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Object(C.getType)(Ve):return!0;case Object(C.getType)(Qe):return!1;default:return e}},selectedCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(Je):return t.payload;case Object(C.getType)(Ye.success):return null;case Object(C.getType)(et):return t.payload.selectedCard}return e},selectedSlide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(Ye.success):return t.payload.slide;case Object(C.getType)(et):return t.payload.slideType;default:return e}},slideState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(Ye.success):case Object(C.getType)(et):return null;case Object(C.getType)(Xe):return t.payload.state;default:return e}},followUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(Ze):return[].concat(Object(Ut.a)(e),[t.payload]);case Object(C.getType)(et):return e.filter(function(e){return e!==t.payload});default:return e}},activeFollowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(Ye.success):return null;case Object(C.getType)(et):return t.payload;default:return e}},startTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(arguments.length>1?arguments[1]:void 0).type===Object(C.getType)(Ve)?new Date:e},isWillPowerLocked:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(tt)?t.payload:e},currentWillPower:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(nt)?t.payload:e},willPowerMemory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(rt):return[].concat(Object(Ut.a)(e),Object(Ut.a)(t.payload));case Object(C.getType)(Ve):return[];default:return e}},playerInsights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(Xe)?t.payload.insights:e},slideInsights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(Ye.success)?t.payload.insights:e}}),Er=Object($e.c)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(x):return[].concat(Object(Ut.a)(e),[t.payload]);case Object(C.getType)(P):return e.filter(function(e){return e.id!==t.payload});case Object(C.getType)(T):return e.map(function(e){return e.id===t.payload.id?t.payload:e});default:return e}},sources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(N):return[].concat(Object(Ut.a)(e),[t.payload]);case Object(C.getType)(A):return e.filter(function(e){return e.url!==t.payload});case Object(C.getType)(F.request):return e.map(function(e){return e.url===t.payload?Object(te.a)({},e,{isLoading:!0}):e});case Object(C.getType)(F.success):return e.map(function(e){return e.url===t.payload.url?Object(te.a)({},e,{cards:t.payload.cards,errorMessage:void 0,isLoading:!1,tags:Le.a.uniq(Le.a.flatten(t.payload.cards.map(function(e){return e.tags})).map(function(e){return e.toLowerCase()}))}):e});case Object(C.getType)(F.failure):return e.map(function(e){return e.url===t.payload.url?Object(te.a)({},e,{isLoading:!1,errorMessage:t.payload.message}):e});case Object(C.getType)(I):return e.map(function(e){return e.url===t.payload.value?Object(te.a)({},e,{weight:t.payload.weight}):e});default:return e}},arrangements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(R):return[].concat(Object(Ut.a)(e),[t.payload]);case Object(C.getType)(L):return e.filter(function(e){return e.p1!==t.payload});default:return e}},preferOppositeGenders:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(D)?t.payload:e},slides:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=[];for(var t in xe)if(xe.hasOwnProperty(t)){var n=xe[t];e.push({value:t,weight:n})}return e}(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(C.getType)(M):return e.map(function(e){return e.value===t.payload.value?t.payload:e});default:return e}},socialMediaPlatform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Snapchat",t=arguments.length>1?arguments[1]:void 0;return t.type===Object(C.getType)(W)?t.payload:e},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type===Object(C.getType)(U)){var n=t.payload.value.toLowerCase();return void 0!==e.find(function(e){return e.value===n})?e.map(function(e){return e.value===n?{value:n,weight:t.payload.weight}:e}):[].concat(Object(Ut.a)(e),[t.payload])}return e}});var jr=Object($e.c)({game:Or,settings:Er,localize:q.d}),kr=Object(Kt.a)({dependencies:Sn}),Sr=[kr],Cr=wr($e.a.apply(void 0,Sr)),xr=Object($e.e)(jr,{},Cr);kr.run(br);var Tr=xr;function Pr(e,t,n,r){return e.selectPlayers(t.map(function(e){return e.gender}),t.map(function(e){var t=n.find(function(t){return t.index===e.playerIndex});return void 0===t?null:t.player}),r).map(function(e,n){return{index:t[n].playerIndex,player:e}})}function Nr(e){void 0===e&&(e=Tr.getState());var t=Ht()();return new Bt(function(e){return{decks:e.settings.sources.filter(function(e){return void 0!==e.cards}).map(function(e){var t=Object(te.a)({},e,{cards:e.cards||[]});return t}),cardsHistory:e.game.cardsHistory,language:e.localize.languages.find(function(e){return e.active}).code,players:e.settings.players,slides:e.settings.slides,tags:e.settings.tags,arrangements:e.settings.arrangements,preferOppositeGenders:e.settings.preferOppositeGenders,slidesHistory:e.game.slidesHistory,startTime:e.game.startTime,willPower:e.game.currentWillPower}}(e),t)}var Ar=Object(w.createStyles)({chart:{width:200,height:300}});var Fr=Object($e.d)(Object(s.b)(function(e){return{currentWillPower:e.game.currentWillPower}}),Object(w.withStyles)(Ar),q.e)(function(e){var t=e.translate,n=e.currentWillPower,r=Nr().getAllCardDeckStatistics(),a=Fe(r.decks,function(e){return e.weight},1e3).map(function(e){return{value:e.part/10,name:e.value.value.url}}),i=Fe(r.willPower,function(e){return e.weight},1e3).map(function(e){return{value:e.part/10,name:e.value.value||t("insights.universal"),willPower:e.value.value}});return l.createElement("div",null,l.createElement(O.C,{variant:"h5"},l.createElement(q.b,{id:"insights.cardsDist"})),l.createElement(Mt.e,{width:"100%",height:200},l.createElement(Mt.b,{data:a},l.createElement(Mt.c,null),l.createElement(Mt.g,{dataKey:"name",tickFormatter:function(e){return(n=18)>(t=e).length?t:".."+t.substring(t.length-n-2,t.length);var t,n}}),l.createElement(Mt.h,{tickFormatter:function(e){return e+"%"}}),l.createElement(Mt.f,{formatter:function(e){return e+"%"},labelFormatter:function(e){return t("insights.cardDeckName",{url:e,cards:r.decks.find(function(t){return t.value.url===e}).value.cards.length})}}),l.createElement(Mt.a,{name:t("insights.part"),dataKey:"value",fill:"#8884d8",maxBarSize:20}))),l.createElement(O.C,{variant:"h5"},l.createElement(q.b,{id:"insights.willPowerDist"})),l.createElement(Mt.e,{width:"100%",height:200},l.createElement(Mt.b,{data:i},l.createElement(Mt.c,null),l.createElement(Mt.g,{dataKey:"name"}),l.createElement(Mt.h,{tickFormatter:function(e){return e+"%"}}),l.createElement(Mt.f,{formatter:function(e){return e+"%"}}),l.createElement(Mt.a,{dataKey:"value",maxBarSize:20,name:t("insights.part")},i.map(function(e,t){return l.createElement(Mt.d,{fill:e.willPower===n?"#e74c3c":"#8884d8",key:t})})))))}),Ir=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(O.k,{container:!0},c.a.createElement(O.k,{item:!0,xs:12},c.a.createElement(Wt,null)),c.a.createElement(O.k,{item:!0,xs:12,style:{marginTop:10}},c.a.createElement(Dt,null)),c.a.createElement(O.k,{item:!0,xs:12,style:{marginTop:10}},c.a.createElement(Fr,null)))}}]),t}(l.Component);function Dr(e){return c.a.createElement(O.x,Object.assign({direction:"up"},e))}var Rr=Object($e.d)(Ct()({breakpoint:"sm"}),Object(w.withStyles)(function(e){return Object(w.createStyles)({appBar:{position:"relative"},flex:{flex:1},content:{flexGrow:1,margin:e.spacing.unit,overflowY:"auto"}})}),q.e,at.a)(function(e){var t=e.fullScreen,n=e.classes,r=e.history;return c.a.createElement("div",null,c.a.createElement(kt.a,{fullScreen:t,open:!0,onClose:function(){return r.push("/game")},TransitionComponent:Dr,fullWidth:!0,maxWidth:"md"},c.a.createElement(O.a,{className:n.appBar},c.a.createElement(O.B,null,c.a.createElement(O.C,{variant:"h6",color:"inherit",className:n.flex},c.a.createElement(q.b,{id:"game.options.insights"})),c.a.createElement(O.c,{color:"inherit",onClick:function(){return r.push("/game")}},c.a.createElement(q.b,{id:"game.close"})))),c.a.createElement("div",{className:n.content},c.a.createElement(Ir,null))))}),Lr=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.selectedSlide;return null===e?c.a.createElement(O.C,{variant:"h3"},"Loading game..."):new(0,gr[e])(Wn(this.props)).render()}}]),t}(l.Component),Wr=Object($e.d)(Object(s.b)(function(e){return{selectedSlide:e.game.selectedSlide}}),q.e)(Lr),Mr={requestSlide:Ye.request},Ur=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.requestSlide(Wn(this.props))}},{key:"render",value:function(){return c.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},c.a.createElement(O.g,{in:!0},c.a.createElement(Wr,null)),c.a.createElement("div",{style:{top:10,right:10,position:"absolute"}},c.a.createElement(Ot,null)),c.a.createElement(d.a,null,c.a.createElement(h.a,{path:"/game/settings",component:Pt}),c.a.createElement(h.a,{path:"/game/insights",component:Rr})))}}]),t}(l.Component),_r=Object($e.d)(Et.a,Object(s.b)(void 0,Mr),q.e)(Ur);var zr=Object(s.b)(function(e){return{isStarted:e.game.isStarted}})(function(e){var t=e.isStarted;return c.a.createElement(u.a,null,c.a.createElement(d.a,null,c.a.createElement(h.a,{exact:!0,path:"/",component:ut}),c.a.createElement(h.a,{path:"/game",render:function(){return t?c.a.createElement(_r,null):c.a.createElement(f.a,{to:"/"})}})))}),Gr=(n(835),n(836),n(354)),Br=n(355),qr=!0,Hr=!1,Kr=void 0;try{for(var $r,Vr=["bullshitfact.xml","ichundderalkohol.xml","ConversationStartersWorld.NeverHaveIEver.xml","Bevil.xml"][Symbol.iterator]();!(qr=($r=Vr.next()).done);qr=!0){var Qr=$r.value;Tr.dispatch(N(Qr)),Tr.dispatch(F.request(Qr))}}catch(Jr){Hr=!0,Kr=Jr}finally{try{qr||null==Vr.return||Vr.return()}finally{if(Hr)throw Kr}}Tr.dispatch(x({name:"Vincent",gender:"Male"})),Tr.dispatch(x({name:"Melina",gender:"Female"})),Tr.dispatch(x({name:"Bursod",gender:"Male"})),Tr.dispatch(x({name:"Larny",gender:"Female"})),Tr.dispatch(x({name:"Sven",gender:"Male"})),Tr.dispatch(x({name:"Hufeld",gender:"Male"}));var Yr=(navigator.language||navigator.userLanguage||"en").split("-")[0];Tr.dispatch(Object(q.c)({languages:[{code:"en",name:"English"},{code:"de",name:"Deutsch"}],translation:Gr,options:{renderToStaticMarkup:Br.renderToStaticMarkup,defaultLanguage:Yr}}));Object(o.render)(l.createElement(function(){return l.createElement("div",{style:{height:"100%"}},l.createElement(s.a,{store:Tr},l.createElement(q.a,{store:Tr},l.createElement(zr,null))))},null),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.04c5b58e.chunk.js.map